/*
 * Compressed by JSA(www.xidea.org)
 */
function Draggable(A,$,C,B,_){_$v(this,E(A),E($||A));this.targetList=[];this.onStart=C;this.onStep=B;this.onFinish=_;}function _$v(A,_,$){A.id=$.uid();_.attach("mousedown",function($){$=$||this.event;if(!A.onStart||!A.onStart($)){_$t(A,$);}});_=$=null;}function _$t(N,J){var F=E(N.id),G=F.style,M={position:G.position,left:G.left,top:G.top},$=F.getPosition(),B=$.left,A=$.top,D=_$s(J),C,L=setInterval(function(){if(D){var O=D.pageX-B,L=D.pageY-A,J=N.targetList,M=J.length;if(!N.onStep||N.onStep(D,O,L)!=false){H(O,L);}while(M--){try{var G=J[M],I=G.id,F=E(I),$=F.getRegion(),K=_$u($,D.pageX,D.pageY)&&G.accept(N,O,L);if(K){if(C!=G){if(C){G.onLeave(N,D);}G.onEnter(N,D);}else{}C=G;break;}else{if(C==G){G.onLeave(N,D);C=null;}}}catch(_){alert(_.message);}}D=null;}},10);function H(_,$){G.position="absolute";G.left=_+"px";G.top=$+"px";}function I(){G.position=M.position;G.left=M.left;G.top=M.top;}H(B,A);$=F.getPosition();B=D.pageX+$.left-2*B;A=D.pageY+$.top-2*A;D=I();function _($){D=_$s($||window.event);}function K($){try{clearInterval(L);$=$||window.event;var E=_$s($||window.event);document.detach("mousemove",_);document.detach("mouseup",K);var J=E.pageX-B,H=E.pageY-A;if(!(N.onFinish&&N.onFinish($,J,H))){I();}}finally{F=G=null;if(C){C.onDrop(N,D);D=null;}}}E(document).attach("mousemove",_);document.attach("mouseup",K);}function _$s($){var A=document.documentElement.scrollLeft,_=document.documentElement.scrollTop;return{clientX:$.clientX,clientY:$.clientY,pageX:$.pageX==null?$.clientX+A:$.pageX,pageY:$.pageY==null?$.clientY+_:$.pageY};}function Droppable(_,$,A,B){this.id=E(_).uid();this.onEnter=$;this.onDrop=A;this.onLeave=B;}Droppable.prototype={accept:function(_,A,$){return true;}};function _$u($,A,_){return A>=$.left&&A<=$.right&&_>=$.top&&_<=$.bottom;}