/*
 * Compressed by JSA(www.xidea.org)
 */
$JSI.preload('org.jside','request.js',function(){eval(this.varText);function Request(B,C,$,A){this.xhr=new XMLHttpRequest();this.onComplete=$;this.onStep=A;this.options=C=new _$T(B,C);this.headers={Accept:"'text/javascript, text/html, application/xml, text/xml, */*'","Content-Type":C.contentType};var _=this;this.onreadystatechange=function(){var $=_.xhr.readyState;_.onStep&&_.onStep($);if($==4){var A=_.isSuccess();_.onComplete&&_.onComplete(A);if(A){_.onSuccess&&_.onSuccess();}else{_.onFailure&&_.onFailure();}_.free=true;_.xhr.onreadystatechange=Function.prototype;}};this.free=true;}Request.prototype={send:function(B,_){this.free=false;var $=this.headers,C=this.options;_=_||C.sync;if(/post/i.test(C.method)){if(this.xhr.overrideMimeType&&/Gecko\/200[0-4]/.test(navigator.userAgent)){$.Connection="close";}}this.xhr.open(C.method,C.url,!_);this.xhr.onreadystatechange=this.onreadystatechange;for(var A in $){this.xhr.setRequestHeader(A,$[A]);}this.xhr.send(B);},isSuccess:function(){var $=this.getStatus();return $?$>=200&&$<300:null;},getStatus:function(){var $=this.xhr;return $.readyState==4&&(($.responseText||$.responseXML)&&$.status);},putHeader:function(_,$){this.headers[_]=$;return this;},getHeader:function($){if(this.xhr.readyState>=3){return this.xhr.getResponseHeader($);}else{$log.debug("response not complete");}},evalResult:function(){if(this.xhr.readyState==4){return window.eval(this.xhr.responseText);}else{$log.debug("response not complete");}},getResult:function(){if(/\/xml/.test(this.getHeader("Content-Type"))){if(this.xhr.readyState==4){return this.xhr.responseXML;}}else{if(this.xhr.readyState>=3){return this.xhr.responseText;}}$log.error("response not complete");},getXML:function(){if(this.xhr.readyState==4){return this.xhr.responseXML;}else{$log.debug("response not complete");}},getText:function(){if(this.xhr.readyState>=3){return this.xhr.responseText;}else{$log.debug("response not complete");}}};function _$T(_,A){this.url=_;if(A.constructor==String){this.method=A;}else{for(var $ in A){this[$]=A[$];}}}_$T.prototype={method:"post",contentType:"application/x-www-form-urlencoded",encoding:"UTF-8"};})