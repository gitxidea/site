
document.write("<style>.CodeMirror {\n  line-height: 1em;\n  font-family: monospace;\n}\n\n.CodeMirror-scroll {\n  overflow-x: auto;\n}\n\n.CodeMirror-gutter {\n  position: absolute; left: 0; top: 0;\n  background-color: #f7f7f7;\n  border-right: 1px solid #eee;\n  min-width: 2em;\n  height: 100%;\n}\n.CodeMirror-gutter-text {\n  color: #aaa;\n  text-align: right;\n  padding: .4em .2em .4em .4em;\n}\n.CodeMirror-lines {\n  padding: .4em;\n}\n\n.CodeMirror pre {\n  -moz-border-radius: 0;\n  -webkit-border-radius: 0;\n  -o-border-radius: 0;\n  border-radius: 0;\n  border-width: 0; margin: 0; padding: 0; background: transparent;\n  font-family: inherit;\n  font-size: inherit;\n  padding: 0; margin: 0;\n  white-space: pre;\n  word-wrap: normal;\n}\n\n.CodeMirror textarea {\n  font-family: inherit !important;\n  font-size: inherit !important;\n}\n\n.CodeMirror-cursor {\n  z-index: 10;\n  position: absolute;\n  visibility: hidden;\n  border-left: 1px solid black !important;\n}\n.CodeMirror-focused .CodeMirror-cursor {\n  visibility: visible;\n}\n\nspan.CodeMirror-selected {\n  background: #ccc !important;\n  color: HighlightText !important;\n}\n.CodeMirror-focused span.CodeMirror-selected {\n  background: Highlight !important;\n}\n\n.CodeMirror-matchingbracket {color: #0f0 !important;}\n.CodeMirror-nonmatchingbracket {color: #f22 !important;}\n</style>");
var CodeMirror=function(){function t(r,o){function a(t){return t>=0&&t<ge.length}function f(t){xe=null;var e={line:0,ch:0};R(e,{line:ge.length-1,ch:ge[ge.length-1].text.length},B(t),e,e),xe=new l}function c(){for(var t=[],e=0,n=ge.length;n>e;++e)t.push(ge[e].text);return t.join("\n")}function x(t){function e(){_(),Ce=!0,s(),f()}function n(t){var e=It(t,!0);if(e&&!m(e,a)){ve||W(),a=e,st(l,e),Ce=!1;var r=nt();(e.line>=r.to||e.line<r.from)&&(o=setTimeout(Gt(function(){n(t)}),150))}}var r=be;be=null;for(var i=t.target();i!=_t;i=i.parentNode)if(i.parentNode==ae)return qt.onGutterClick&&qt.onGutterClick(We,M(ae.childNodes,i)+Oe),t.stop();if(T&&3==t.button()&&Wt(t),1==t.button()){var o,l=It(t),a=l;if(!l)return void(t.target()==ne&&t.stop());if(ve||W(),t.stop(),r&&+new Date-r<400)return gt(l.line);ut(l.line,l.ch,!0);var s=u($t,"mousemove",Gt(function(t){clearTimeout(o),t.stop(),n(t)}),!0),f=u($t,"mouseup",Gt(function(t){clearTimeout(o);var n=It(t);n&&st(l,n),t.stop(),e()}),!0)}}function b(t){var e=It(t);e&&(pt(e),t.stop(),be=+new Date)}function C(t){function e(t,e){var r=new FileReader;r.onload=function(){o[e]=r.result,++l==i&&X(o.join(""),ct(n),ct(n))},r.readAsText(t)}var n=It(t,!0),r=t.e.dataTransfer.files;if(n&&!qt.readOnly)if(r&&r.length&&window.FileReader&&window.File)for(var i=r.length,o=Array(i),l=0,a=0;i>a;++a)e(r[a],a);else try{var o=t.e.dataTransfer.getData("Text");o&&X(o,n,n)}catch(t){}}function A(t){ve||W();var e=t.e.keyCode;S&&27==e&&(t.e.returnValue=!1);var n=(O?t.e.metaKey:t.e.ctrlKey)&&!t.e.altKey,r=t.e.ctrlKey||t.e.altKey||t.e.metaKey;if(ye=16==e||t.e.shiftKey?ye||(Le.inverted?Le.to:Le.from):null,!qt.onKeyEvent||!qt.onKeyEvent(We,s(t.e))){if(33==e||34==e)return dt(34==e),t.stop();if(n&&(36==e||35==e||O&&(38==e||40==e)))return vt(36==e||38==e),t.stop();if(n&&65==e)return mt(),t.stop();if(!qt.readOnly){if(!r&&13==e)return;if(!r&&9==e&&yt(t.e.shiftKey))return t.stop();if(n&&90==e)return j(),t.stop();if(n&&(t.e.shiftKey&&90==e||89==e))return F(),t.stop()}if(Be=(n?"c":"")+e,Le.inverted&&N.hasOwnProperty(Be)){var i=K(ee);i&&(Me={anchor:i.start},D(ee,i.start,i.start))}Q(Be)}}function H(t){qt.onKeyEvent&&qt.onKeyEvent(We,s(t.e))||(Me&&(Me=null,Ce=!0),16==t.e.keyCode&&(ye=null))}function I(t){if(!qt.onKeyEvent||!qt.onKeyEvent(We,s(t.e))){if(qt.electricChars&&ce.electricChars){var e=String.fromCharCode(null==t.e.charCode?t.e.keyCode:t.e.charCode);ce.electricChars.indexOf(e)>-1&&setTimeout(Gt(function(){Mt(Le.to.line,"smart")}),50)}var n=t.e.keyCode;13==n?(qt.readOnly||xt(),t.stop()):t.e.ctrlKey||t.e.altKey||t.e.metaKey||9!=n||"default"==qt.tabMode?Q(Be):t.stop()}}function W(){"nocursor"!=qt.readOnly&&(!ve&&qt.onFocus&&qt.onFocus(We),ve=!0,q(),-1==_t.className.search(/\bCodeMirror-focused\b/)&&(_t.className+=" CodeMirror-focused"),Pt())}function P(){ve&&qt.onBlur&&qt.onBlur(We),clearInterval(he),ye=null,ve=!1,_t.className=_t.className.replace(" CodeMirror-focused","")}function R(t,e,n,r,i){if(xe){for(var o=[],l=t.line,a=e.line+1;a>l;++l)o.push(ge[l].text);for(xe.addChange(t.line,n.length,o);xe.done.length>qt.undoDepth;)xe.done.shift()}V(t,e,n,r,i),n.length<5&&Ft(t.line,t.line+n.length)}function z(t,e){var n=t.pop();if(n){for(var r=[],i=n.start+n.added,o=n.start;i>o;++o)r.push(ge[o].text);e.push({start:n.start,added:n.old.length,old:r});var l=ct({line:n.start+n.old.length-1,ch:y(r[r.length-1],n.old[n.old.length-1])});V({line:n.start,ch:0},{line:i-1,ch:ge[i-1].text.length},n.old,l,l)}}function j(){z(xe.done,xe.undone)}function F(){z(xe.undone,xe.done)}function V(t,e,n,r,o){function l(t){return t<=Math.min(e.line,e.line+g)?t:t+g}for(var a=!1,s=Ke.length,f=t.line;f<=e.line;++f)if(ge[f].text.length==s){a=!0;break}var u=e.line-t.line,h=ge[t.line],c=ge[e.line];if(h==c)if(1==n.length)h.replace(t.ch,e.ch,n[0]);else{c=h.split(e.ch,n[n.length-1]);var d=[t.line+1,u];h.replace(t.ch,h.text.length,n[0]);for(var f=1,v=n.length-1;v>f;++f)d.push(new i(n[f]));d.push(c),ge.splice.apply(ge,d)}else if(1==n.length)h.replace(t.ch,h.text.length,n[0]+c.text.slice(e.ch)),ge.splice(t.line+1,u);else{var d=[t.line+1,u-1];h.replace(t.ch,h.text.length,n[0]),c.replace(0,e.ch,n[n.length-1]);for(var f=1,v=n.length-1;v>f;++f)d.push(new i(n[f]));ge.splice.apply(ge,d)}for(var f=t.line,v=f+n.length;v>f;++f){var m=ge[f].text;m.length>s&&(Ke=m,s=m.length,a=!1)}if(a){s=0,Ke="";for(var f=0,v=ge.length;v>f;++f){var m=ge[f].text;m.length>s&&(s=m.length,Ke=m)}}for(var p=[],g=n.length-u-1,f=0,m=de.length;m>f;++f){var x=de[f];x<t.line?p.push(x):x>e.line&&p.push(x+g)}n.length&&p.push(t.line),de=p,Xt(100),ke.push({from:t.line,to:e.line+1,diff:g}),we={from:t,to:e,text:n},ft(r,o,l(Le.from.line),l(Le.to.line)),re.style.height=ge.length*Bt()+2*Kt()+"px"}function X(t,e,n){function r(r){if(p(r,e))return r;if(!p(n,r))return i;var o=r.line+t.length-(n.line-e.line)-1,l=r.ch;return r.line==n.line&&(l+=t[t.length-1].length-(n.ch-(n.line==e.line?e.ch:0))),{line:o,ch:l}}e=ct(e),n=n?ct(n):e,t=B(t);var i;return U(t,e,n,function(t){return i=t,{from:r(Le.from),to:r(Le.to)}}),i}function Y(t,e){U(B(t),Le.from,Le.to,function(t){return"end"==e?{from:t,to:t}:"start"==e?{from:Le.from,to:Le.from}:{from:Le.from,to:t}})}function U(t,e,n,r){var i=1==t.length?t[0].length+e.ch:t[t.length-1].length,o=r({line:e.line+t.length-1,ch:i});R(e,n,t,o.from,o.to)}function G(t,e){var n=t.line,r=e.line;if(n==r)return ge[n].text.slice(t.ch,e.ch);for(var i=[ge[n].text.slice(t.ch)],o=n+1;r>o;++o)i.push(ge[o].text);return i.push(ge[r].text.slice(0,e.ch)),i.join("\n")}function J(){return G(Le.from,Le.to)}function q(){Pe||me.set(2e3,function(){Yt(),Z(),ve&&q(),Ut()})}function Q(t){function e(){Yt();var r=Z();"moved"==r&&t&&(N[t]=!0),r||n?(Pe=!1,q()):(n=!0,me.set(80,e)),Ut()}var n=!1;Pe=!0,me.set(20,e)}function Z(){function t(t,e){for(var r=0;;){var i=n.indexOf("\n",r);if(-1==i||("\r"==n.charAt(i-1)?i-1:i)>=t)return{line:e,ch:t-r};++e,r=i+1}}if(!Se){var e=!1,n=ee.value,r=K(ee);if(!r)return!1;var e=Ae.text!=n,i=Me,o=e||r.start!=Ae.start||r.end!=(i?Ae.start:Ae.end);if(!o&&!i)return!1;if(e&&(ye=Me=null,qt.readOnly))return Ce=!0,"changed";var l=t(r.start,Ae.from),a=t(r.end,Ae.from);if(i){var s=r.start==i.anchor?a:l,f=ye?Le.to:r.start==i.anchor?l:a;(Le.inverted=p(s,f))?(l=s,a=f):(Me=null,l=f,a=s)}if(l.line!=a.line||l.line!=Le.from.line||l.line!=Le.to.line||ye||(Ce=!1),e){for(var u,h=0,c=n.length,d=Math.min(c,Ae.text.length),v=Ae.from,m=-1;d>h&&(u=n.charAt(h))==Ae.text.charAt(h);)++h,"\n"==u&&(v++,m=h);for(var g=m>-1?h-m:h,x=Ae.to-1,y=Ae.text.length;;){if(u=Ae.text.charAt(y),n.charAt(c)!=u){++c,++y;break}if("\n"==u&&x--,h>=y||h>=c)break;--c,--y}var m=Ae.text.lastIndexOf("\n",y-1),M=-1==m?y:y-m-1;R({line:v,ch:g},{line:x,ch:M},B(n.slice(h,c)),l,a),(v!=x||l.line!=v)&&(Ce=!0)}else ft(l,a);return Ae.text=n,Ae.start=r.start,Ae.end=r.end,e?"changed":o?"moved":!1}}function $(){for(var t=[],e=Math.max(0,Le.from.line-1),n=Math.min(ge.length,Le.to.line+2),r=e;n>r;++r)t.push(ge[r].text);t=ee.value=t.join(E);for(var i=Le.from.ch,o=Le.to.ch,r=e;r<Le.from.line;++r)i+=E.length+ge[r].text.length;for(var r=e;r<Le.to.line;++r)o+=E.length+ge[r].text.length;Ae={text:t,from:e,to:n,start:i,end:o},D(ee,i,Me?i:o)}function _(){"nocursor"!=qt.readOnly&&ee.focus()}function tt(){var t=Nt(Le.inverted?Le.from:Le.to);return et(t.x,t.y,t.x,t.yBot)}function et(t,e,n,r){var i=Dt(),o=Kt(),l=Bt();e+=o,r+=o,t+=i,n+=i;var a=ne.clientHeight,s=ne.scrollTop,f=!1,u=!0;s>e?(ne.scrollTop=Math.max(0,e-2*l),f=!0):r>s+a&&(ne.scrollTop=r+l-a,f=!0);var h=ne.clientWidth,c=ne.scrollLeft;return c>t?(50>t&&(t=0),ne.scrollLeft=Math.max(0,t-10),f=!0):n>h+c&&(ne.scrollLeft=n+10-h,f=!0,n>re.clientWidth&&(u=!1)),f&&qt.onScroll&&qt.onScroll(We),u}function nt(){var t=Bt(),e=ne.scrollTop-Kt();return{from:Math.min(ge.length,Math.max(0,Math.floor(e/t))),to:Math.min(ge.length,Math.ceil((e+ne.clientHeight)/t))}}function rt(t){if(!ne.clientWidth)return void(Oe=Ne=0);for(var e=t===!0?[]:[{from:Oe,to:Ne,domStart:0}],n=0,r=t.length||0;r>n;++n){for(var i=t[n],o=[],l=i.diff||0,a=0,s=e.length;s>a;++a){var f=e[a];i.to<=f.from?o.push({from:f.from+l,to:f.to+l,domStart:f.domStart}):f.to<=i.from?o.push(f):(i.from>f.from&&o.push({from:f.from,to:i.from,domStart:f.domStart}),i.to<f.to&&o.push({from:i.to+l,to:f.to+l,domStart:f.domStart+(i.to-f.from)}))}e=o}for(var u=nt(),h=Math.min(Oe,Math.max(u.from-3,0)),c=Math.min(ge.length,Math.max(Ne,u.to+3)),d=[],v=0,m=Ne-Oe,p=h,g=0,n=0,r=e.length;r>n;++n){var f=e[n];if(!(f.to<=h)){if(f.from>=c)break;(f.domStart>v||f.from>p)&&(d.push({from:p,to:f.from,domSize:f.domStart-v,domStart:v}),g+=f.from-p),p=f.to,v=f.domStart+(f.to-f.from)}}if((v!=m||p!=c)&&(g+=Math.abs(c-p),d.push({from:p,to:c,domSize:m-v,domStart:v})),d.length){ue.style.display="none",g>.3*(u.to-u.from)?it(h=Math.max(u.from-10,0),c=Math.min(u.to+7,ge.length)):ot(d),ue.style.display="";var x=h!=Oe||c!=Ne||He!=ne.clientHeight;Oe=h,Ne=c,oe.style.top=h*Bt()+"px",x&&(He=ne.clientHeight,re.style.height=ge.length*Bt()+2*Kt()+"px",lt());var y=Et(Ke);if(se.style.width=y>ne.clientWidth?y+"px":"",ue.childNodes.length!=Ne-Oe)throw new Error("BAD PATCH! "+JSON.stringify(d)+" size="+(Ne-Oe)+" nodes="+ue.childNodes.length);at()}}function it(t,e){for(var n=[],r={line:t,ch:0},i=p(Le.from,r)&&!p(Le.to,r),o=t;e>o;++o){var l=null,a=null;i?(l=0,Le.to.line==o&&(i=!1,a=Le.to.ch)):Le.from.line==o&&(Le.to.line==o?(l=Le.from.ch,a=Le.to.ch):(i=!0,l=Le.from.ch)),n.push(ge[o].getHTML(l,a,!0))}ue.innerHTML=n.join("")}function ot(t){for(var e=Le.from.line,n=Le.to.line,r=0,i=w&&$t.createElement("div"),o=0,l=t.length;l>o;++o){var a=t[o],s=a.to-a.from-a.domSize,f=ue.childNodes[a.domStart+a.domSize+r]||null;if(w)for(var u=Math.max(-s,a.domSize);u>0;--u)ue.removeChild(f?f.previousSibling:ue.lastChild);else if(s){for(var u=Math.max(0,s);u>0;--u)ue.insertBefore($t.createElement("pre"),f);for(var u=Math.max(0,-s);u>0;--u)ue.removeChild(f?f.previousSibling:ue.lastChild)}for(var h=ue.childNodes[a.domStart+r],c=e<a.from&&n>=a.from,u=a.from;u<a.to;++u){var d=null,v=null;c?(d=0,n==u&&(c=!1,v=Le.to.ch)):e==u&&(n==u?(d=Le.from.ch,v=Le.to.ch):(c=!0,d=Le.from.ch)),w?(i.innerHTML=ge[u].getHTML(d,v,!0),ue.insertBefore(i.firstChild,f)):(h.innerHTML=ge[u].getHTML(d,v,!1),h.className=ge[u].className||"",h=h.nextSibling)}r+=s}}function lt(){if(qt.gutter||qt.lineNumbers){var t=oe.offsetHeight,e=ne.clientHeight;le.style.height=(2>t-e?e:t)+"px";for(var n=[],r=Oe;r<Math.max(Ne,Oe+1);++r){var i=ge[r].gutterMarker,o=qt.lineNumbers?r+qt.firstLineNumber:null;i&&i.text?o=i.text.replace("%N%",null!=o?o:""):null==o&&(o=" "),n.push(i&&i.style?'<pre class="'+i.style+'">':"<pre>",o,"</pre>")}le.style.display="none",ae.innerHTML=n.join("");for(var l=String(ge.length).length,a=ae.firstChild,s=v(a),f="";s.length+f.length<l;)f+=" ";f&&a.insertBefore($t.createTextNode(f),a.firstChild),le.style.display="",se.style.marginLeft=le.offsetWidth+"px"}}function at(){var t=Le.inverted?Le.from:Le.to,e=Bt(),n=Lt(t.line,t.ch)+"px",r=(t.line-Oe)*e+"px";te.style.top=t.line*e-ne.scrollTop+"px",m(Le.from,Le.to)?(fe.style.top=r,fe.style.left=n,fe.style.display=""):fe.style.display="none"}function st(t,e){var n=ye&&ct(ye);n&&(p(n,t)?t=n:p(e,n)&&(e=n)),ft(t,e)}function ft(t,e,n,r){if(!m(Le.from,t)||!m(Le.to,e)){if(p(e,t)){var i=e;e=t,t=i}m(t,e)?Le.inverted=!1:m(t,Le.to)?Le.inverted=!1:m(e,Le.from)&&(Le.inverted=!0),null==n&&(n=Le.from.line,r=Le.to.line),m(t,e)?m(Le.from,Le.to)||ke.push({from:n,to:r+1}):m(Le.from,Le.to)?ke.push({from:t.line,to:e.line+1}):(m(t,Le.from)||ke.push(t.line<n?{from:t.line,to:Math.min(e.line,n)+1}:{from:n,to:Math.min(r,t.line)+1}),m(e,Le.to)||ke.push(e.line<r?{from:Math.max(n,t.line),to:r+1}:{from:Math.max(t.line,r),to:e.line+1})),Le.from=t,Le.to=e,Te=!0}}function ut(t,e,n){var r=ct({line:t,ch:e||0});(n?st:ft)(r,r)}function ht(t){return Math.max(0,Math.min(t,ge.length-1))}function ct(t){if(t.line<0)return{line:0,ch:0};if(t.line>=ge.length)return{line:ge.length-1,ch:ge[ge.length-1].text.length};var e=t.ch,n=ge[t.line].text.length;return null==e||e>n?{line:t.line,ch:n}:0>e?{line:t.line,ch:0}:t}function dt(t){var e=Math.floor(ne.clientHeight/Bt()),n=Le.inverted?Le.from:Le.to;ut(n.line+Math.max(e-1,1)*(t?1:-1),n.ch,!0)}function vt(t){var e=t?{line:0,ch:0}:{line:ge.length-1,ch:ge[ge.length-1].text.length};st(e,e)}function mt(){var t=ge.length-1;ft({line:0,ch:0},{line:t,ch:ge[t].text.length})}function pt(t){for(var e=ge[t.line].text,n=t.ch,r=t.ch;n>0&&/\w/.test(e.charAt(n-1));)--n;for(;r<e.length&&/\w/.test(e.charAt(r));)++r;st({line:t.line,ch:n},{line:t.line,ch:r})}function gt(t){st({line:t,ch:0},{line:t,ch:ge[t].text.length})}function xt(){Y("\n","end"),"flat"!=qt.enterMode&&Mt(Le.from.line,"keep"==qt.enterMode?"prev":"smart")}function yt(t){switch(ye=null,qt.tabMode){case"default":return!1;case"indent":for(var e=Le.from.line,n=Le.to.line;n>=e;++e)Mt(e,"smart");break;case"classic":if(m(Le.from,Le.to)){t?Mt(Le.from.line,"smart"):Y("	","end");break}case"shift":for(var e=Le.from.line,n=Le.to.line;n>=e;++e)Mt(e,t?"subtract":"add")}return!0}function Mt(t,e){if("smart"==e)if(ce.indent)var n=jt(t);else e="prev";var r,i=ge[t],o=i.indentation(),l=i.text.match(/^\s*/)[0];"prev"==e?r=t?ge[t-1].indentation():0:"smart"==e?r=ce.indent(n,i.text.slice(l.length)):"add"==e?r=o+qt.indentUnit:"subtract"==e&&(r=o-qt.indentUnit),r=Math.max(0,r);var a=r-o;if(a){var s="",f=0;if(qt.indentWithTabs)for(var u=Math.floor(r/L);u;--u)f+=L,s+="	";for(;r>f;)++f,s+=" "}else{if(Le.from.line!=t&&Le.to.line!=t)return;var s=l}X(s,{line:t,ch:0},{line:t,ch:l.length})}function bt(){ce=t.getMode(qt,qt.mode);for(var e=0,n=ge.length;n>e;++e)ge[e].stateAfter=null;de=[0],Xt()}function Ct(){var t=qt.gutter||qt.lineNumbers;le.style.display=t?"":"none",t?lt():ue.parentNode.style.marginLeft=0}function kt(t,e,n){function r(t,e,n,r){var t=ge[t],o=t.addMark(e,n,r);o.line=t,i.push(o)}t=ct(t),e=ct(e);var i=[];if(t.line==e.line)r(t.line,t.ch,e.ch,n);else{r(t.line,t.ch,null,n);for(var o=t.line+1,l=e.line;l>o;++o)r(o,0,null,n);r(e.line,0,e.ch,n)}return ke.push({from:t.line,to:e.line+1}),function(){for(var t,e,n=0;n<i.length;++n){var r=i[n],o=M(ge,r.line);r.line.removeMark(r),o>-1&&(null==t&&(t=o),e=o)}null!=t&&ke.push({from:t,to:e+1})}}function wt(t,e,n){return"number"==typeof t&&(t=ge[ht(t)]),t.gutterMarker={text:e,style:n},lt(),t}function Tt(t){"number"==typeof t&&(t=ge[ht(t)]),t.gutterMarker=null,lt()}function St(t,e){if("number"==typeof t){var n=t;t=ge[ht(t)]}else{var n=M(ge,t);if(-1==n)return null}return t.className!=e&&(t.className=e,ke.push({from:n,to:n+1})),t}function At(t){if("number"==typeof t){var e=t;if(t=ge[t],!t)return null}else{var e=M(ge,t);if(-1==e)return null}var n=t.gutterMarker;return{line:e,text:t.text,markerText:n&&n.text,markerClass:n&&n.style}}function Et(t){return ie.innerHTML="<pre><span>x</span></pre>",ie.firstChild.firstChild.firstChild.nodeValue=t,ie.firstChild.firstChild.offsetWidth||10}function Lt(t,e){return 0==e?0:(ie.innerHTML="<pre><span>"+ge[t].getHTML(null,null,!1,e)+"</span></pre>",ie.firstChild.firstChild.offsetWidth)}function Ot(t,e){function n(t){return ie.innerHTML="<pre><span>"+i.getHTML(null,null,!1,t)+"</span></pre>",ie.firstChild.firstChild.offsetWidth}if(0>=e)return 0;for(var r,i=ge[t],o=i.text,l=0,a=0,s=o.length,f=Math.min(s,Math.ceil(e/Et("x")));;){var u=n(f);if(!(e>=u&&s>f)){r=u,s=f;break}f=Math.min(s,Math.ceil(1.2*f))}if(e>r)return s;for(f=Math.floor(.8*s),u=n(f),e>u&&(l=f,a=u);;){if(1>=s-l)return r-e>e-a?l:s;var h=Math.ceil((l+s)/2),c=n(h);c>e?(s=h,r=c):(l=h,a=c)}}function Nt(t,e){var n=Bt(),r=t.line-(e?Oe:0);return{x:Lt(t.line,t.ch),y:r*n,yBot:(r+1)*n}}function Ht(t){var e=Nt(t,!0),n=d(se);return{x:n.left+e.x,y:n.top+e.y,yBot:n.top+e.yBot}}function Bt(){var t=ue.childNodes.length;return t?ue.offsetHeight/t||1:(ie.innerHTML="<pre>x</pre>",ie.firstChild.offsetHeight||1)}function Kt(){return se.offsetTop}function Dt(){return se.offsetLeft}function It(t,e){var n=d(ne,!0),r=t.e.clientX,i=t.e.clientY;if(!e&&(r-n.left>ne.clientWidth||i-n.top>ne.clientHeight))return null;var o=d(se,!0),l=Oe+Math.floor((i-o.top)/Bt());return ct({line:l,ch:Ot(ht(l),r-o.left)})}function Wt(t){function e(){ee.value!=i&&Gt(Y)(ee.value,"end"),ee.style.cssText=r,Se=!1,$(),q()}var n=It(t);if(n&&!window.opera){(m(Le.from,Le.to)||p(n,Le.from)||!p(n,Le.to))&&ut(n.line,n.ch);var r=ee.style.cssText;ee.style.cssText="position: fixed; width: 30px; height: 30px; top: "+(t.pageY()-1)+"px; left: "+(t.pageX()-1)+"px; z-index: 1000; background: white; border-width: 0; outline: none; overflow: hidden; opacity: .05;";var i=ee.value=J();if(_(),D(ee,0,ee.value.length),Se=!0,T){t.stop();var o=u(window,"mouseup",function(){o(),setTimeout(e,20)},!0)}else setTimeout(e,50)}}function Pt(){clearInterval(he);var t=!0;fe.style.visibility="",he=setInterval(function(){fe.style.visibility=(t=!t)?"":"hidden"},650)}function Rt(t){function e(t,e,n){if(t.text)for(var r,i=t.styles,o=l?0:t.text.length-1,s=l?0:i.length-2,f=l?i.length:-2;s!=f;s+=2*a){var u=i[s];if(null==i[s+1]||i[s+1]==c){for(var h=l?0:u.length-1,m=l?u.length:-1;h!=m;h+=a,o+=a)if(o>=e&&n>o&&v.test(r=u.charAt(h))){var p=Re[r];if(">"==p.charAt(1)==l)d.push(r);else{if(d.pop()!=p.charAt(0))return{pos:o,match:!1};if(!d.length)return{pos:o,match:!0}}}}else o+=a*u.length}}var n=Le.inverted?Le.from:Le.to,r=ge[n.line],i=n.ch-1,o=i>=0&&Re[r.text.charAt(i)]||Re[r.text.charAt(++i)];if(o){for(var l=(o.charAt(0),">"==o.charAt(1)),a=l?1:-1,s=r.styles,f=i+1,u=0,h=s.length;h>u;u+=2)if((f-=s[u].length)<=0){var c=s[u+1];break}for(var d=[r.text.charAt(i)],v=/[(){}[\]]/,u=n.line,h=l?Math.min(u+50,ge.length):Math.max(-1,u-50);u!=h;u+=a){var r=ge[u],m=u==n.line,p=e(r,m&&l?i+1:0,m&&!l?i:r.text.length);if(p){var c=p.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket",g=kt({line:n.line,ch:i},{line:n.line,ch:i+1},c),x=kt({line:u,ch:p.pos},{line:u,ch:p.pos+1},c),y=Gt(function(){g(),x()});t?setTimeout(y,800):Ee=y;break}}}}function zt(t){for(var e,n,r=t,i=t-40;r>i;--r){if(0==r)return 0;var o=ge[r-1];if(o.stateAfter)return r;var l=o.indentation();(null==n||e>l)&&(n=r,e=l)}return n}function jt(t){var r=zt(t),i=r&&ge[r-1].stateAfter;i=i?e(ce,i):n(ce);for(var o=r;t>o;++o){var l=ge[o];l.highlight(ce,i),l.stateAfter=e(ce,i)}return ge[t].stateAfter||de.push(t),i}function Ft(t,n){for(var r=jt(t),i=t;n>i;++i){var o=ge[i];o.highlight(ce,r),o.stateAfter=e(ce,r)}}function Vt(){for(var t=+new Date+qt.workTime,r=de.length;de.length;){if(ge[Oe].stateAfter)var i=de.pop();else var i=Oe;if(!(i>=ge.length)){var o=zt(i),l=o&&ge[o-1].stateAfter;l=l?e(ce,l):n(ce);for(var a=0,s=o,f=ge.length;f>s;++s){var u=ge[s],h=u.stateAfter;if(+new Date>t)return de.push(s),Xt(qt.workDelay),void ke.push({from:i,to:s});var c=u.highlight(ce,l);if(u.stateAfter=e(ce,l),c||!h)a=0;else if(++a>3)break}ke.push({from:i,to:s})}}r&&qt.onHighlightComplete&&qt.onHighlightComplete(We)}function Xt(t){de.length&&pe.set(t,Gt(Vt))}function Yt(){Ce=null,ke=[],we=Te=!1}function Ut(){var t=!1;Te&&(t=!tt()),ke.length?rt(ke):Te&&at(),t&&tt(),Te&&Pt(),!Se&&(Ce===!0||Ce!==!1&&Te)&&$(),Te&&qt.matchBrackets&&setTimeout(Gt(function(){Ee&&(Ee(),Ee=null),Rt(!1)}),20);var e=we;Te&&qt.onCursorActivity&&qt.onCursorActivity(We),e&&qt.onChange&&We&&qt.onChange(We,e)}function Gt(t){return function(){ze++||Yt();try{var e=t.apply(this,arguments)}finally{--ze||Ut()}return e}}function Jt(t,e,n){if(this.atOccurrence=!1,null==n&&(n="string"==typeof t&&t==t.toLowerCase()),e=e&&"object"==typeof e?ct(e):{line:0,ch:0},this.pos={from:e,to:e},"string"!=typeof t)this.matches=function(e,n){if(e)for(var r=ge[n.line].text.slice(0,n.ch),i=r.match(t),o=0;i;){var l=r.indexOf(i[0]);o+=l,r=r.slice(l+1);var a=r.match(t);if(!a)break;i=a,o++}else var r=ge[n.line].text.slice(n.ch),i=r.match(t),o=i&&n.ch+r.indexOf(i[0]);return i?{from:{line:n.line,ch:o},to:{line:n.line,ch:o+i[0].length},match:i}:void 0};else{n&&(t=t.toLowerCase());var r=n?function(t){return t.toLowerCase()}:function(t){return t},i=t.split("\n");this.matches=1==i.length?function(e,n){var i,o=r(ge[n.line].text),l=t.length;return(e?n.ch>=l&&-1!=(i=o.lastIndexOf(t,n.ch-l)):-1!=(i=o.indexOf(t,n.ch)))?{from:{line:n.line,ch:i},to:{line:n.line,ch:i+l}}:void 0}:function(t,e){var n=e.line,o=t?i.length-1:0,l=i[o],a=r(ge[n].text),s=t?a.indexOf(l)+l.length:a.lastIndexOf(l);if(!(t?s>=e.ch||s!=l.length:s<=e.ch||s!=a.length-l.length))for(;;){if(t?!n:n==ge.length-1)return;if(a=r(ge[n+=t?-1:1].text),l=i[t?--o:++o],!(o>0&&o<i.length-1)){var f=t?a.lastIndexOf(l):a.indexOf(l)+l.length;if(t?f!=a.length-l.length:f!=l.length)return;var u={line:e.line,ch:s},h={line:n,ch:f};return{from:t?h:u,to:t?u:h}}if(a!=l)return}}}}var qt={},Qt=t.defaults;for(var Zt in Qt)Qt.hasOwnProperty(Zt)&&(qt[Zt]=(o&&o.hasOwnProperty(Zt)?o:Qt)[Zt]);var $t=qt.document,_t=$t.createElement("div");_t.className="CodeMirror",_t.innerHTML='<div style="overflow: hidden; position: relative; width: 1px; height: 0px;"><textarea style="position: absolute; width: 2px;" wrap="off"></textarea></div><div class="CodeMirror-scroll cm-s-'+qt.theme+'"><div style="position: relative"><div style="position: absolute; height: 0; width: 0; overflow: hidden;"></div><div style="position: relative"><div class="CodeMirror-gutter"><div class="CodeMirror-gutter-text"></div></div><div class="CodeMirror-lines"><div style="position: relative"><pre class="CodeMirror-cursor">&#160;</pre><div></div></div></div></div></div></div>',r.appendChild?r.appendChild(_t):r(_t);var te=_t.firstChild,ee=te.firstChild,ne=_t.lastChild,re=ne.firstChild,ie=re.firstChild,oe=ie.nextSibling,le=oe.firstChild,ae=le.firstChild,se=le.nextSibling.firstChild,fe=se.firstChild,ue=fe.nextSibling;null!=qt.tabindex&&(ee.tabindex=qt.tabindex),qt.gutter||qt.lineNumbers||(le.style.display="none");var he,ce,de,ve,me=new h,pe=new h,ge=[new i("")],xe=new l;bt();var ye,Me,be,Ce,ke,we,Te,Se,Ae,Ee,Le={from:{line:0,ch:0},to:{line:0,ch:0},inverted:!1},Oe=0,Ne=0,He=0,Be=null,Ke="";Gt(function(){f(qt.value||""),Ce=!1})(),setTimeout($,20),u(ne,"mousedown",Gt(x)),T||u(ne,"contextmenu",Gt(Wt)),u(re,"dblclick",Gt(b)),u(ne,"scroll",function(){rt([]),qt.onScroll&&qt.onScroll(We)}),u(window,"resize",function(){rt(!0)}),u(ee,"keyup",Gt(H)),u(ee,"keydown",Gt(A)),u(ee,"keypress",Gt(I)),u(ee,"focus",W),u(ee,"blur",P),u(ne,"dragenter",function(t){t.stop()}),u(ne,"dragover",function(t){t.stop()}),u(ne,"drop",Gt(C)),u(ne,"paste",function(){_(),Q()}),u(ee,"paste",function(){Q()}),u(ee,"cut",function(){Q()});var De;try{De=$t.activeElement==ee}catch(Ie){}De?W():P();var We={getValue:c,setValue:Gt(f),getSelection:J,replaceSelection:Gt(Y),focus:function(){_(),W(),$(),Q()},setOption:function(t,e){qt[t]=e,"lineNumbers"==t||"gutter"==t?Ct():"mode"==t||"indentUnit"==t?bt():"readOnly"==t&&"nocursor"==e?ee.blur():"theme"==t&&(ne.className=ne.className.replace(/cm-s-\w+/,"cm-s-"+e))},getOption:function(t){return qt[t]},undo:Gt(j),redo:Gt(F),indentLine:Gt(function(t){a(t)&&Mt(t,"smart")}),historySize:function(){return{undo:xe.done.length,redo:xe.undone.length}},matchBrackets:Gt(function(){Rt(!0)}),getTokenAt:function(t){return t=ct(t),ge[t.line].getTokenAt(ce,jt(t.line),t.ch)},cursorCoords:function(t){return null==t&&(t=Le.inverted),Ht(t?Le.from:Le.to)},charCoords:function(t){return Ht(ct(t))},coordsChar:function(t){var e=d(se),n=ht(Math.min(ge.length-1,Oe+Math.floor((t.y-e.top)/Bt())));return ct({line:n,ch:Ot(ht(n),t.x-e.left)})},getSearchCursor:function(t,e,n){return new Jt(t,e,n)},markText:Gt(function(t,e,n){return Gt(kt(t,e,n))}),setMarker:wt,clearMarker:Tt,setLineClass:Gt(St),lineInfo:At,addWidget:function(t,e,n){var t=Nt(ct(t),!0);e.style.top=Oe*Bt()+t.yBot+Kt()+"px",e.style.left=t.x+Dt()+"px",re.appendChild(e),n&&et(t.x,t.yBot,t.x+e.offsetWidth,t.yBot+e.offsetHeight)},lineCount:function(){return ge.length},getCursor:function(t){return null==t&&(t=Le.inverted),g(t?Le.from:Le.to)},somethingSelected:function(){return!m(Le.from,Le.to)},setCursor:Gt(function(t,e){null==e&&"number"==typeof t.line?ut(t.line,t.ch):ut(t,e)}),setSelection:Gt(function(t,e){ft(ct(t),ct(e||t))}),getLine:function(t){return a(t)?ge[t].text:void 0},setLine:Gt(function(t,e){a(t)&&X(e,{line:t,ch:0},{line:t,ch:ge[t].text.length})}),removeLine:Gt(function(t){a(t)&&X("",{line:t,ch:0},ct({line:t+1,ch:0}))}),replaceRange:Gt(X),getRange:function(t,e){return G(ct(t),ct(e))},operation:function(t){return Gt(t)()},refresh:function(){rt(!0)},getInputField:function(){return ee},getWrapperElement:function(){return _t}},Pe=!1,Re={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<"},ze=0;Jt.prototype={findNext:function(){return this.find(!1)},findPrevious:function(){return this.find(!0)},find:function(t){function e(t){var e={line:t,ch:0};return n.pos={from:e,to:e},n.atOccurrence=!1,!1}for(var n=this,r=ct(t?this.pos.from:this.pos.to);;){if(this.pos=this.matches(t,r))return this.atOccurrence=!0,this.pos.match||!0;if(t){if(!r.line)return e(0);r={line:r.line-1,ch:ge[r.line-1].text.length}}else{if(r.line==ge.length-1)return e(ge.length);r={line:r.line+1,ch:0}}}},from:function(){return this.atOccurrence?g(this.pos.from):void 0},to:function(){return this.atOccurrence?g(this.pos.to):void 0}};for(var je in k)k.propertyIsEnumerable(je)&&!We.propertyIsEnumerable(je)&&(We[je]=k[je]);return We}function e(t,e){if(e===!0)return e;if(t.copyState)return t.copyState(e);var n={};for(var r in e){var i=e[r];i instanceof Array&&(i=i.concat([])),n[r]=i}return n}function n(t,e,n){return t.startState?t.startState(e,n):!0}function r(t){this.pos=this.start=0,this.string=t}function i(t,e){this.styles=e||[t,null],this.stateAfter=null,this.text=t,this.marked=this.gutterMarker=this.className=null}function o(t,e,n,r){for(var i=0,o=0,l=0;e>o;i+=2){var a=n[i],s=o+a.length;0==l?(s>t&&r.push(a.slice(t-o,Math.min(a.length,e-o)),n[i+1]),s>=t&&(l=1)):1==l&&(s>e?r.push(a.slice(0,e-o),n[i+1]):r.push(a,n[i+1])),o=s}}function l(){this.time=0,this.done=[],this.undone=[]}function a(){this.preventDefault?(this.preventDefault(),this.stopPropagation()):(this.returnValue=!1,this.cancelBubble=!0)}function s(t){return t.stop||(t.stop=a),t}function f(t){this.e=t}function u(t,e,n,r){function i(t){n(new f(t||window.event))}if("function"==typeof t.addEventListener){if(t.addEventListener(e,i,!1),r)return function(){t.removeEventListener(e,i,!1)}}else if(t.attachEvent("on"+e,i),r)return function(){t.detachEvent("on"+e,i)}}function h(){this.id=null}function c(t,e){null==e&&(e=t.search(/[^\s\u00a0]/),-1==e&&(e=t.length));for(var n=0,r=0;e>n;++n)"	"==t.charAt(n)?r+=L-r%L:++r;return r}function d(t,e){for(var n=t.ownerDocument.body,r=0,i=0,o=!1,l=t;l;l=l.offsetParent)r+=l.offsetLeft,i+=l.offsetTop,l==n&&(o=!0);for(var a=e&&o?null:n,l=t.parentNode;l!=a;l=l.parentNode)null!=l.scrollLeft&&(r-=l.scrollLeft,i-=l.scrollTop);return{left:r,top:i}}function v(t){return t.textContent||t.innerText||t.nodeValue||""}function m(t,e){return t.line==e.line&&t.ch==e.ch}function p(t,e){return t.line<e.line||t.line==e.line&&t.ch<e.ch}function g(t){return{line:t.line,ch:t.ch}}function x(t){return t.replace(/[<>&]/g,function(t){return"&"==t?"&amp;":"<"==t?"&lt;":"&gt;"})}function y(t,e){if(!e)return t?t.length:0;if(!t)return e.length;for(var n=t.length,r=e.length;n>=0&&r>=0&&t.charAt(n)==e.charAt(r);--n,--r);return r+1}function M(t,e){if(t.indexOf)return t.indexOf(e);for(var n=0,r=t.length;r>n;++n)if(t[n]==e)return n;return-1}t.defaults={value:"",mode:null,theme:"default",indentUnit:2,indentWithTabs:!1,tabMode:"classic",enterMode:"indent",electricChars:!0,onKeyEvent:null,lineNumbers:!1,gutter:!1,firstLineNumber:1,readOnly:!1,onChange:null,onCursorActivity:null,onGutterClick:null,onHighlightComplete:null,onFocus:null,onBlur:null,onScroll:null,matchBrackets:!1,workTime:100,workDelay:200,undoDepth:40,tabindex:null,document:window.document};var b={},C={};t.defineMode=function(e,n){t.defaults.mode||"null"==e||(t.defaults.mode=e),b[e]=n},t.defineMIME=function(t,e){C[t]=e},t.getMode=function(e,n){if("string"==typeof n&&C.hasOwnProperty(n)&&(n=C[n]),"string"==typeof n)var r=n,i={};else if(null!=n)var r=n.name,i=n;var o=b[r];return o?o(e,i||{}):(window.console&&console.warn("No mode "+r+" found, falling back to plain text."),t.getMode(e,"text/plain"))},t.listModes=function(){var t=[];for(var e in b)b.propertyIsEnumerable(e)&&t.push(e);return t},t.listMIMEs=function(){var t=[];for(var e in C)C.propertyIsEnumerable(e)&&t.push(e);return t};var k={};t.defineExtension=function(t,e){k[t]=e},t.fromTextArea=function(e,n){function r(){e.value=a.getValue()}function i(){r(),e.form.submit=l,e.form.submit(),e.form.submit=i}if(n||(n={}),n.value=e.value,!n.tabindex&&e.tabindex&&(n.tabindex=e.tabindex),e.form){var o=u(e.form,"submit",r,!0);if("function"==typeof e.form.submit){var l=e.form.submit;e.form.submit=i}}e.style.display="none";var a=t(function(t){e.parentNode.insertBefore(t,e.nextSibling)},n);return a.save=r,a.toTextArea=function(){r(),e.parentNode.removeChild(a.getWrapperElement()),e.style.display="",e.form&&(o(),"function"==typeof e.form.submit&&(e.form.submit=l))},a},t.startState=n,t.copyState=e,r.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return 0==this.pos},peek:function(){return this.string.charAt(this.pos)},next:function(){return this.pos<this.string.length?this.string.charAt(this.pos++):void 0},eat:function(t){var e=this.string.charAt(this.pos);if("string"==typeof t)var n=e==t;else var n=e&&(t.test?t.test(e):t(e));return n?(++this.pos,e):void 0},eatWhile:function(t){for(var e=this.start;this.eat(t););return this.pos>e},eatSpace:function(){for(var t=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>t},skipToEnd:function(){this.pos=this.string.length},skipTo:function(t){var e=this.string.indexOf(t,this.pos);return e>-1?(this.pos=e,!0):void 0},backUp:function(t){this.pos-=t},column:function(){return c(this.string,this.start)},indentation:function(){return c(this.string)},match:function(t,e,n){function r(t){return n?t.toLowerCase():t}if("string"!=typeof t){var i=this.string.slice(this.pos).match(t);return i&&e!==!1&&(this.pos+=i[0].length),i}return r(this.string).indexOf(r(t),this.pos)==this.pos?(e!==!1&&(this.pos+=t.length),!0):void 0},current:function(){return this.string.slice(this.start,this.pos)}},t.StringStream=r,i.prototype={replace:function(t,e,n){function r(t){return t<=Math.min(e,e+a)?t:t+a}var i=[],l=this.marked;if(o(0,t,this.styles,i),n&&i.push(n,null),o(e,this.text.length,this.styles,i),this.styles=i,this.text=this.text.slice(0,t)+n+this.text.slice(e),this.stateAfter=null,l)for(var a=n.length-(e-t),s=this.text.length,f=0;f<l.length;++f){var u=l[f],h=!1;u.from>=s?h=!0:(u.from=r(u.from),null!=u.to&&(u.to=r(u.to))),(h||u.from>=u.to)&&(l.splice(f,1),f--)}},split:function(t,e){var n=[e,null];return o(t,this.text.length,this.styles,n),new i(e+this.text.slice(t),n)},addMark:function(t,e,n){var r=(this.marked,{from:t,to:e,style:n});return null==this.marked&&(this.marked=[]),this.marked.push(r),this.marked.sort(function(t,e){return t.from-e.from}),r},removeMark:function(t){var e=this.marked;if(e)for(var n=0;n<e.length;++n)if(e[n]==t){e.splice(n,1);break}},highlight:function(t,e){var n,i=new r(this.text),o=this.styles,l=0,a=!1,s=o[0];for(""==this.text&&t.blankLine&&t.blankLine(e);!i.eol();){var f=t.token(i,e),u=this.text.slice(i.start,i.pos);if(i.start=i.pos,l&&o[l-1]==f?o[l-2]+=u:u&&(!a&&(o[l+1]!=f||l&&o[l-2]!=n)&&(a=!0),o[l++]=u,o[l++]=f,n=s,s=o[l]),i.pos>5e3){o[l++]=this.text.slice(i.pos),o[l++]=null;break}}return o.length!=l&&(o.length=l,a=!0),l&&o[l-2]!=n&&(a=!0),a||o.length<5&&this.text.length<10},getTokenAt:function(t,e,n){for(var i=this.text,o=new r(i);o.pos<n&&!o.eol();){o.start=o.pos;var l=t.token(o,e)}return{start:o.start,end:o.pos,string:o.current(),className:l||null,state:e}},indentation:function(){return c(this.text)},getHTML:function(t,e,n,r){function i(t,e){t&&(e?l.push('<span class="cm-',e,'">',x(t),"</span>"):l.push(x(t)))}function o(){f&&(m+=1,p=m<f.length?f[m]:null)}var l=[];n&&l.push(this.className?'<pre class="'+this.className+'">':"<pre>");var a=this.styles,s=this.text,f=this.marked;t==e&&(t=null);var u=s.length;if(null!=r&&(u=Math.min(r,u)),s||null!=r)if(f||null!=t){var h,c=0,d=0,v="",m=-1,p=null;

for(o();u>c;){var g=u,y="";for(null!=t&&(t>c?g=t:(null==e||e>c)&&(y=" CodeMirror-selected",null!=e&&(g=Math.min(g,e))));p&&null!=p.to&&p.to<=c;)o();for(p&&(p.from>c?g=Math.min(g,p.from):(y+=" "+p.style,null!=p.to&&(g=Math.min(g,p.to))));;){var M=c+v.length,b=h;if(y&&(b=h?h+y:y),i(M>g?v.slice(0,g-c):v,b),M>=g){v=v.slice(g-c),c=g;break}c=M,v=a[d++],h=a[d++]}}null!=t&&null==e&&i(" ","CodeMirror-selected")}else for(var d=0,C=0;u>C;d+=2){var k=a[d],w=k.length;C+w>u&&(k=k.slice(0,u-C)),C+=w,i(k,a[d+1])}else i(" ",null!=t&&null==e?"CodeMirror-selected":null);return n&&l.push("</pre>"),l.join("")}},l.prototype={addChange:function(t,e,n){this.undone.length=0;var r=+new Date,i=this.done[this.done.length-1];if(r-this.time>400||!i||i.start>t+e||i.start+i.added<t-i.added+i.old.length)this.done.push({start:t,added:e,old:n});else{var o=0;if(t<i.start){for(var l=i.start-t-1;l>=0;--l)i.old.unshift(n[l]);i.added+=i.start-t,i.start=t}else i.start<t&&(o=t-i.start,e+=o);for(var l=i.added-o,a=n.length;a>l;++l)i.old.push(n[l]);i.added<e&&(i.added=e)}this.time=r}},f.prototype={stop:function(){a.call(this.e)},target:function(){return this.e.target||this.e.srcElement},button:function(){return this.e.which?this.e.which:1&this.e.button?1:2&this.e.button?3:4&this.e.button?2:void 0},pageX:function(){if(null!=this.e.pageX)return this.e.pageX;var t=this.target().ownerDocument;return this.e.clientX+t.body.scrollLeft+t.documentElement.scrollLeft},pageY:function(){if(null!=this.e.pageY)return this.e.pageY;var t=this.target().ownerDocument;return this.e.clientY+t.body.scrollTop+t.documentElement.scrollTop}},h.prototype={set:function(t,e){clearTimeout(this.id),this.id=setTimeout(e,t)}};var w=function(){var t=document.createElement("pre");return t.innerHTML=" ",!t.innerHTML}(),T=/gecko\/\d{7}/i.test(navigator.userAgent),S=/MSIE \d/.test(navigator.userAgent),A=/Apple Computer/.test(navigator.vendor),E="\n";!function(){var t=document.createElement("textarea");t.value="foo\nbar",t.value.indexOf("\r")>-1&&(E="\r\n")}();for(var L=8,O=/Mac/.test(navigator.platform),N={},H=35;40>=H;++H)N[H]=N["c"+H]=!0;if(t.htmlEscape=x,3!="\n\nb".split(/\n/).length)var B=function(t){for(var e,n=0,r=[];(e=t.indexOf("\n",n))>-1;)r.push(t.slice(n,"\r"==t.charAt(e-1)?e-1:e)),n=e+1;return r.push(t.slice(n)),r};else var B=function(t){return t.split(/\r?\n/)};if(t.splitLines=B,window.getSelection){var K=function(t){try{return{start:t.selectionStart,end:t.selectionEnd}}catch(e){return null}};if(A)var D=function(t,e,n){e==n?t.setSelectionRange(e,n):(t.setSelectionRange(e,n-1),window.getSelection().modify("extend","forward","character"))};else var D=function(t,e,n){try{t.setSelectionRange(e,n)}catch(r){}}}else var K=function(t){try{var e=t.ownerDocument.selection.createRange()}catch(n){return null}if(!e||e.parentElement()!=t)return null;var r=t.value,i=r.length,o=t.createTextRange();o.moveToBookmark(e.getBookmark());var l=t.createTextRange();if(l.collapse(!1),o.compareEndPoints("StartToEnd",l)>-1)return{start:i,end:i};for(var a=-o.moveStart("character",-i),s=r.indexOf("\r");s>-1&&a>s;s=r.indexOf("\r",s+1),a++);if(o.compareEndPoints("EndToEnd",l)>-1)return{start:a,end:i};for(var f=-o.moveEnd("character",-i),s=r.indexOf("\r");s>-1&&f>s;s=r.indexOf("\r",s+1),f++);return{start:a,end:f}},D=function(t,e,n){var r=t.createTextRange();r.collapse(!0);for(var i=r.duplicate(),o=0,l=t.value,a=l.indexOf("\n");a>-1&&e>a;a=l.indexOf("\n",a+1))++o;for(r.move("character",e-o);a>-1&&n>a;a=l.indexOf("\n",a+1))++o;i.move("character",n-o),r.setEndPoint("EndToEnd",i),r.select()};return t.defineMode("null",function(){return{token:function(t){t.skipToEnd()}}}),t.defineMIME("text/plain","null"),t}();
document.write("<style>.cm-s-default span.cm-keyword {color: #708;}\n.cm-s-default span.cm-atom {color: #219;}\n.cm-s-default span.cm-number {color: #164;}\n.cm-s-default span.cm-def {color: #00f;}\n.cm-s-default span.cm-variable {color: black;}\n.cm-s-default span.cm-variable-2 {color: #05a;}\n.cm-s-default span.cm-variable-3 {color: #0a5;}\n.cm-s-default span.cm-property {color: black;}\n.cm-s-default span.cm-operator {color: black;}\n.cm-s-default span.cm-comment {color: #a50;opacity:0.3}\n.cm-s-default span.cm-string {color: #a11;}\n.cm-s-default span.cm-meta {color: #555;}\n.cm-s-default span.cm-error {color: #f00;}\n.cm-s-default span.cm-qualifier {color: #555;}\n.cm-s-default span.cm-builtin {color: #30a;}\n.cm-s-default span.cm-bracket {color: #cc7;}\n.cm-s-default span.cm-tag {color: #170;}\n.cm-s-default span.cm-attribute {color: #00c;}\n</style>");
CodeMirror.defineMode("javascript",function(e,t){function n(e,t,n){return t.tokenize=n,n(e,t)}function r(e,t){for(var n,r=!1;null!=(n=e.next());){if(n==t&&!r)return!1;r=!r&&"\\"==n}return r}function a(e,t,n){return S=e,$=n,t}function i(e,t){var i=e.next();if('"'==i||"'"==i)return n(e,t,o(i));if(/[\[\]{}\(\),;\:\.]/.test(i))return a(i);if("0"==i&&e.eat(/x/i))return e.eatWhile(/[\da-f]/i),a("number","atom");if(/\d/.test(i))return e.match(/^\d*(?:\.\d*)?(?:e[+\-]?\d+)?/),a("number","atom");if("/"==i)return e.eat("*")?n(e,t,u):e.eat("/")?(e.skipToEnd(),a("comment","comment")):t.reAllowed?(r(e,"/"),e.eatWhile(/[gimy]/),a("regexp","string")):(e.eatWhile(q),a("operator",null,e.current()));if(q.test(i))return e.eatWhile(q),a("operator",null,e.current());e.eatWhile(/[\w\$_]/);var l=e.current(),c=_.propertyIsEnumerable(l)&&_[l];return c?a(c.type,c.style,l):a("variable","variable",l)}function o(e){return function(t,n){return r(t,e)||(n.tokenize=i),a("string","string")}}function u(e,t){for(var n,r=!1;n=e.next();){if("/"==n&&r){t.tokenize=i;break}r="*"==n}return a("comment","comment")}function l(e,t,n,r,a,i){this.indented=e,this.column=t,this.type=n,this.prev=a,this.info=i,null!=r&&(this.align=r)}function c(e,t){for(var n=e.localVars;n;n=n.next)if(n.name==t)return!0}function f(e,t,n,r,a){var i=e.cc;for(D.state=e,D.stream=a,D.marked=null,D.cc=i,e.lexical.hasOwnProperty("align")||(e.lexical.align=!0);;){var o=i.length?i.pop():U?k:w;if(o(n,r)){for(;i.length&&i[i.length-1].lex;)i.pop()();return D.marked?D.marked:"variable"==n&&c(e,r)?"variable-2":t}}}function s(){for(var e=arguments.length-1;e>=0;e--)D.cc.push(arguments[e])}function d(){return s.apply(null,arguments),!0}function m(e){var t=D.state;if(t.context){D.marked="def";for(var n=t.localVars;n;n=n.next)if(n.name==e)return;t.localVars={name:e,next:t.localVars}}}function v(){D.state.context||(D.state.localVars=F),D.state.context={prev:D.state.context,vars:D.state.localVars}}function p(){D.state.localVars=D.state.context.vars,D.state.context=D.state.context.prev}function h(e,t){var n=function(){var n=D.state;n.lexical=new l(n.indented,D.stream.column(),e,null,n.lexical,t)};return n.lex=!0,n}function x(){var e=D.state;e.lexical.prev&&(")"==e.lexical.type&&(e.indented=e.lexical.indented),e.lexical=e.lexical.prev)}function y(e){return function(t){return t==e?d():";"==e?s():d(arguments.callee)}}function w(e){return"var"==e?d(h("vardef"),W,y(";"),x):"keyword a"==e?d(h("form"),k,w,x):"keyword b"==e?d(h("form"),w,x):"{"==e?d(h("}"),z,x):";"==e?d():"function"==e?d(P):"for"==e?d(h("form"),y("("),h(")"),C,y(")"),x,w,x):"variable"==e?d(h("stat"),g):"switch"==e?d(h("form"),k,h("}","switch"),y("{"),z,x,x):"case"==e?d(k,y(":")):"default"==e?d(y(":")):"catch"==e?d(h("form"),v,y("("),N,y(")"),w,x,p):s(h("stat"),k,y(";"),x)}function k(e){return B.hasOwnProperty(e)?d(b):"function"==e?d(P):"keyword c"==e?d(k):"("==e?d(h(")"),k,y(")"),x,b):"operator"==e?d(k):"["==e?d(h("]"),j(k,"]"),x,b):"{"==e?d(h("}"),j(V,"}"),x,b):d()}function b(e,t){if("operator"==e&&/\+\+|--/.test(t))return d(b);if("operator"==e)return d(k);if(";"!=e)return"("==e?d(h(")"),j(k,")"),x,b):"."==e?d(M,b):"["==e?d(h("]"),k,y("]"),x,b):void 0}function g(e){return":"==e?d(x,w):s(b,y(";"),x)}function M(e){return"variable"==e?(D.marked="property",d()):void 0}function V(e){return"variable"==e&&(D.marked="property"),B.hasOwnProperty(e)?d(y(":"),k):void 0}function j(e,t){function n(r){return","==r?d(e,n):r==t?d():d(y(t))}return function(r){return r==t?d():s(e,n)}}function z(e){return"}"==e?d():s(w,z)}function W(e,t){return"variable"==e?(m(t),d(A)):d()}function A(e,t){return"="==t?d(k,A):","==e?d(W):void 0}function C(e){return"var"==e?d(W,I):";"==e?s(I):"variable"==e?d(E):s(I)}function E(e,t){return"in"==t?d(k):d(b,I)}function I(e,t){return";"==e?d(O):"in"==t?d(k):d(k,y(";"),O)}function O(e){")"!=e&&d(k)}function P(e,t){return"variable"==e?(m(t),d(P)):"("==e?d(h(")"),v,j(N,")"),x,w,p):void 0}function N(e,t){return"variable"==e?(m(t),d()):void 0}var S,$,T=e.indentUnit,U=t.json,_=function(){function e(e){return{type:e,style:"keyword"}}var t=e("keyword a"),n=e("keyword b"),r=e("keyword c"),a=e("operator"),i={type:"atom",style:"atom"};return{"if":t,"while":t,"with":t,"else":n,"do":n,"try":n,"finally":n,"return":r,"break":r,"continue":r,"new":r,"delete":r,"throw":r,"var":e("var"),"function":e("function"),"catch":e("catch"),"for":e("for"),"switch":e("switch"),"case":e("case"),"default":e("default"),"in":a,"typeof":a,"instanceof":a,"true":i,"false":i,"null":i,undefined:i,NaN:i,Infinity:i}}(),q=/[+\-*&%=<>!?|]/,B={atom:!0,number:!0,variable:!0,string:!0,regexp:!0},D={state:null,column:null,marked:null,cc:null},F={name:"this",next:{name:"arguments"}};return x.lex=!0,{startState:function(e){return{tokenize:i,reAllowed:!0,cc:[],lexical:new l((e||0)-T,0,"block",!1),localVars:null,context:null,indented:0}},token:function(e,t){if(e.sol()&&(t.lexical.hasOwnProperty("align")||(t.lexical.align=!1),t.indented=e.indentation()),e.eatSpace())return null;var n=t.tokenize(e,t);return"comment"==S?n:(t.reAllowed="operator"==S||"keyword c"==S||S.match(/^[\[{}\(,;:]$/),f(t,n,S,$,e))},indent:function(e,t){if(e.tokenize!=i)return 0;var n=t&&t.charAt(0),r=e.lexical,a=r.type,o=n==a;return"vardef"==a?r.indented+4:"form"==a&&"{"==n?r.indented:"stat"==a||"form"==a?r.indented+T:"switch"!=r.info||o?r.align?r.column+(o?0:1):r.indented+(o?0:T):r.indented+(/^(?:case|default)\b/.test(t)?T:2*T)},electricChars:":{}"}}),CodeMirror.defineMIME("text/javascript","javascript"),CodeMirror.defineMIME("application/json",{name:"javascript",json:!0});
CodeMirror.defineMode("e4x",function(t){function e(t,e){var a=n.token(t,e.jsState);return"<"==t.current()&&e.jsState.reAllowed?(e.token=o,e.localState=r.startState(n.indent(e.jsState,"")),e.mode="xml",e.indented=t.backUp(1),o(t,e)):a}function o(t,o){var n=o.localState,a=r.token(t,o.localState);return n.context||(o.token=e,o.curState=null,o.mode="javascript"),a}var n=CodeMirror.getMode(t,"javascript"),r=CodeMirror.getMode(t,{name:"xml",htmlMode:!0});return{startState:function(){var t=n.startState();return{token:e,localState:null,mode:"javascript",jsState:t}},copyState:function(t){if(t.localState)var e=CodeMirror.copyState(r,t.localState);return{token:t.token,localState:e,mode:t.mode,jsState:CodeMirror.copyState(n,t.jsState)}},token:function(t,e){return e.token(t,e)},indent:function(t,a){return t.token==o||/^\s*<[\/]/.test(a)?r.indent(t.xmlState,a):t.token==e?n.indent(t.localState,a):void 0},electricChars:"/{}:"}}),CodeMirror.defineMIME("text/e4x","e4x");
document.write("<style>.CodeMirror {\n  line-height: 1em;\n  font-family: monospace;\n}\n\n.CodeMirror-scroll {\n  overflow-x: auto;\n}\n\n.CodeMirror-gutter {\n  position: absolute; left: 0; top: 0;\n  background-color: #f7f7f7;\n  border-right: 1px solid #eee;\n  min-width: 2em;\n  height: 100%;\n}\n.CodeMirror-gutter-text {\n  color: #aaa;\n  text-align: right;\n  padding: .4em .2em .4em .4em;\n}\n.CodeMirror-lines {\n  padding: .4em;\n}\n\n.CodeMirror pre {\n  -moz-border-radius: 0;\n  -webkit-border-radius: 0;\n  -o-border-radius: 0;\n  border-radius: 0;\n  border-width: 0; margin: 0; padding: 0; background: transparent;\n  font-family: inherit;\n  font-size: inherit;\n  padding: 0; margin: 0;\n  white-space: pre;\n  word-wrap: normal;\n}\n\n.CodeMirror textarea {\n  font-family: inherit !important;\n  font-size: inherit !important;\n}\n\n.CodeMirror-cursor {\n  z-index: 10;\n  position: absolute;\n  visibility: hidden;\n  border-left: 1px solid black !important;\n}\n.CodeMirror-focused .CodeMirror-cursor {\n  visibility: visible;\n}\n\nspan.CodeMirror-selected {\n  background: #ccc !important;\n  color: HighlightText !important;\n}\n.CodeMirror-focused span.CodeMirror-selected {\n  background: Highlight !important;\n}\n\n.CodeMirror-matchingbracket {color: #0f0 !important;}\n.CodeMirror-nonmatchingbracket {color: #f22 !important;}\n</style>");var CodeMirror=function(){function t(r,i){function l(t){return t>=0&&t<ge.length}function u(t){xe=null;var e={line:0,ch:0};D(e,{line:ge.length-1,ch:ge[ge.length-1].text.length},P(t),e,e),xe=new a}function h(){for(var t=[],e=0,n=ge.length;n>e;++e)t.push(ge[e].text);return t.join("\n")}function x(t){function e(){Z(),ke=!0,s(),u()}function n(t){var e=Wt(t,!0);if(e&&!p(e,l)){me||j(),l=e,st(a,e),ke=!1;var r=nt();(e.line>=r.to||e.line<r.from)&&(i=setTimeout(Xt(function(){n(t)}),150))}}var r=Me;Me=null;for(var o=t.target();o!=Zt;o=o.parentNode)if(o.parentNode==le)return _t.onGutterClick&&_t.onGutterClick(je,b(le.childNodes,o)+Le),t.stop();if(S&&3==t.button()&&jt(t),1==t.button()){var i,a=Wt(t),l=a;if(!a)return void(t.target()==ne&&t.stop());if(me||j(),t.stop(),r&&+new Date-r<400)return gt(a.line);ct(a.line,a.ch,!0);var s=c(Qt,"mousemove",Xt(function(t){clearTimeout(i),t.stop(),n(t)}),!0),u=c(Qt,"mouseup",Xt(function(t){clearTimeout(i);var n=Wt(t);n&&st(a,n),t.stop(),e()}),!0)}}function M(t){var e=Wt(t);e&&(vt(e),t.stop(),Me=+new Date)}function k(t){function e(t,e){var r=new FileReader;r.onload=function(){i[e]=r.result,++a==o&&F(i.join(""),ht(n),ht(n))},r.readAsText(t)}var n=Wt(t,!0),r=t.e.dataTransfer.files;if(n&&!_t.readOnly)if(r&&r.length&&window.FileReader&&window.File)for(var o=r.length,i=Array(o),a=0,l=0;o>l;++l)e(r[l],l);else try{var i=t.e.dataTransfer.getData("Text");i&&F(i,n,n)}catch(t){}}function A(t){me||j();var e=t.e.keyCode;T&&27==e&&(t.e.returnValue=!1);var n=(L?t.e.metaKey:t.e.ctrlKey)&&!t.e.altKey,r=t.e.ctrlKey||t.e.altKey||t.e.metaKey;if(ye=16==e||t.e.shiftKey?ye||(Ee.inverted?Ee.to:Ee.from):null,!_t.onKeyEvent||!_t.onKeyEvent(je,s(t.e))){if(33==e||34==e)return dt(34==e),t.stop();if(n&&(36==e||35==e||L&&(38==e||40==e)))return mt(36==e||38==e),t.stop();if(n&&65==e)return pt(),t.stop();if(!_t.readOnly){if(!r&&13==e)return;if(!r&&9==e&&yt(t.e.shiftKey))return t.stop();if(n&&90==e)return V(),t.stop();if(n&&(t.e.shiftKey&&90==e||89==e))return R(),t.stop()}if(Pe=(n?"c":"")+e,Ee.inverted&&N.hasOwnProperty(Pe)){var o=z(ee);o&&(be={anchor:o.start},I(ee,o.start,o.start))}$(Pe)}}function H(t){_t.onKeyEvent&&_t.onKeyEvent(je,s(t.e))||(be&&(be=null,ke=!0),16==t.e.keyCode&&(ye=null))}function W(t){if(!_t.onKeyEvent||!_t.onKeyEvent(je,s(t.e))){if(_t.electricChars&&he.electricChars){var e=String.fromCharCode(null==t.e.charCode?t.e.keyCode:t.e.charCode);he.electricChars.indexOf(e)>-1&&setTimeout(Xt(function(){bt(Ee.to.line,"smart")}),50)}var n=t.e.keyCode;13==n?(_t.readOnly||xt(),t.stop()):t.e.ctrlKey||t.e.altKey||t.e.metaKey||9!=n||"default"==_t.tabMode?$(Pe):t.stop()}}function j(){"nocursor"!=_t.readOnly&&(!me&&_t.onFocus&&_t.onFocus(je),me=!0,_(),-1==Zt.className.search(/\bCodeMirror-focused\b/)&&(Zt.className+=" CodeMirror-focused"),Bt())}function B(){me&&_t.onBlur&&_t.onBlur(je),clearInterval(fe),ye=null,me=!1,Zt.className=Zt.className.replace(" CodeMirror-focused","")}function D(t,e,n,r,o){if(xe){for(var i=[],a=t.line,l=e.line+1;l>a;++a)i.push(ge[a].text);for(xe.addChange(t.line,n.length,i);xe.done.length>_t.undoDepth;)xe.done.shift()}U(t,e,n,r,o),n.length<5&&Rt(t.line,t.line+n.length)}function K(t,e){var n=t.pop();if(n){for(var r=[],o=n.start+n.added,i=n.start;o>i;++i)r.push(ge[i].text);e.push({start:n.start,added:n.old.length,old:r});var a=ht({line:n.start+n.old.length-1,ch:y(r[r.length-1],n.old[n.old.length-1])});U({line:n.start,ch:0},{line:o-1,ch:ge[o-1].text.length},n.old,a,a)}}function V(){K(xe.done,xe.undone)}function R(){K(xe.undone,xe.done)}function U(t,e,n,r,i){function a(t){return t<=Math.min(e.line,e.line+g)?t:t+g}for(var l=!1,s=ze.length,u=t.line;u<=e.line;++u)if(ge[u].text.length==s){l=!0;break}var c=e.line-t.line,f=ge[t.line],h=ge[e.line];if(f==h)if(1==n.length)f.replace(t.ch,e.ch,n[0]);else{h=f.split(e.ch,n[n.length-1]);var d=[t.line+1,c];f.replace(t.ch,f.text.length,n[0]);for(var u=1,m=n.length-1;m>u;++u)d.push(new o(n[u]));d.push(h),ge.splice.apply(ge,d)}else if(1==n.length)f.replace(t.ch,f.text.length,n[0]+h.text.slice(e.ch)),ge.splice(t.line+1,c);else{var d=[t.line+1,c-1];f.replace(t.ch,f.text.length,n[0]),h.replace(0,e.ch,n[n.length-1]);for(var u=1,m=n.length-1;m>u;++u)d.push(new o(n[u]));ge.splice.apply(ge,d)}for(var u=t.line,m=u+n.length;m>u;++u){var p=ge[u].text;p.length>s&&(ze=p,s=p.length,l=!1)}if(l){s=0,ze="";for(var u=0,m=ge.length;m>u;++u){var p=ge[u].text;p.length>s&&(s=p.length,ze=p)}}for(var v=[],g=n.length-c-1,u=0,p=de.length;p>u;++u){var x=de[u];x<t.line?v.push(x):x>e.line&&v.push(x+g)}n.length&&v.push(t.line),de=v,Ft(100),Ce.push({from:t.line,to:e.line+1,diff:g}),we={from:t,to:e,text:n},ut(r,i,a(Ee.from.line),a(Ee.to.line)),re.style.height=ge.length*Pt()+2*zt()+"px"}function F(t,e,n){function r(r){if(v(r,e))return r;if(!v(n,r))return o;var i=r.line+t.length-(n.line-e.line)-1,a=r.ch;return r.line==n.line&&(a+=t[t.length-1].length-(n.ch-(n.line==e.line?e.ch:0))),{line:i,ch:a}}e=ht(e),n=n?ht(n):e,t=P(t);var o;return q(t,e,n,function(t){return o=t,{from:r(Ee.from),to:r(Ee.to)}}),o}function Y(t,e){q(P(t),Ee.from,Ee.to,function(t){return"end"==e?{from:t,to:t}:"start"==e?{from:Ee.from,to:Ee.from}:{from:Ee.from,to:t}})}function q(t,e,n,r){var o=1==t.length?t[0].length+e.ch:t[t.length-1].length,i=r({line:e.line+t.length-1,ch:o});D(e,n,t,i.from,i.to)}function X(t,e){var n=t.line,r=e.line;if(n==r)return ge[n].text.slice(t.ch,e.ch);for(var o=[ge[n].text.slice(t.ch)],i=n+1;r>i;++i)o.push(ge[i].text);return o.push(ge[r].text.slice(0,e.ch)),o.join("\n")}function G(){return X(Ee.from,Ee.to)}function _(){Be||pe.set(2e3,function(){Yt(),J(),me&&_(),qt()})}function $(t){function e(){Yt();var r=J();"moved"==r&&t&&(N[t]=!0),r||n?(Be=!1,_()):(n=!0,pe.set(80,e)),qt()}var n=!1;Be=!0,pe.set(20,e)}function J(){function t(t,e){for(var r=0;;){var o=n.indexOf("\n",r);if(-1==o||("\r"==n.charAt(o-1)?o-1:o)>=t)return{line:e,ch:t-r};++e,r=o+1}}if(!Te){var e=!1,n=ee.value,r=z(ee);if(!r)return!1;var e=Ae.text!=n,o=be,i=e||r.start!=Ae.start||r.end!=(o?Ae.start:Ae.end);if(!i&&!o)return!1;if(e&&(ye=be=null,_t.readOnly))return ke=!0,"changed";var a=t(r.start,Ae.from),l=t(r.end,Ae.from);if(o){var s=r.start==o.anchor?l:a,u=ye?Ee.to:r.start==o.anchor?a:l;(Ee.inverted=v(s,u))?(a=s,l=u):(be=null,a=u,l=s)}if(a.line!=l.line||a.line!=Ee.from.line||a.line!=Ee.to.line||ye||(ke=!1),e){for(var c,f=0,h=n.length,d=Math.min(h,Ae.text.length),m=Ae.from,p=-1;d>f&&(c=n.charAt(f))==Ae.text.charAt(f);)++f,"\n"==c&&(m++,p=f);for(var g=p>-1?f-p:f,x=Ae.to-1,y=Ae.text.length;;){if(c=Ae.text.charAt(y),n.charAt(h)!=c){++h,++y;break}if("\n"==c&&x--,f>=y||f>=h)break;--h,--y}var p=Ae.text.lastIndexOf("\n",y-1),b=-1==p?y:y-p-1;D({line:m,ch:g},{line:x,ch:b},P(n.slice(f,h)),a,l),(m!=x||a.line!=m)&&(ke=!0)}else ut(a,l);return Ae.text=n,Ae.start=r.start,Ae.end=r.end,e?"changed":i?"moved":!1}}function Q(){for(var t=[],e=Math.max(0,Ee.from.line-1),n=Math.min(ge.length,Ee.to.line+2),r=e;n>r;++r)t.push(ge[r].text);t=ee.value=t.join(O);for(var o=Ee.from.ch,i=Ee.to.ch,r=e;r<Ee.from.line;++r)o+=O.length+ge[r].text.length;for(var r=e;r<Ee.to.line;++r)i+=O.length+ge[r].text.length;Ae={text:t,from:e,to:n,start:o,end:i},I(ee,o,be?o:i)}function Z(){"nocursor"!=_t.readOnly&&ee.focus()}function tt(){var t=Nt(Ee.inverted?Ee.from:Ee.to);return et(t.x,t.y,t.x,t.yBot)}function et(t,e,n,r){var o=It(),i=zt(),a=Pt();e+=i,r+=i,t+=o,n+=o;var l=ne.clientHeight,s=ne.scrollTop,u=!1,c=!0;s>e?(ne.scrollTop=Math.max(0,e-2*a),u=!0):r>s+l&&(ne.scrollTop=r+a-l,u=!0);var f=ne.clientWidth,h=ne.scrollLeft;return h>t?(50>t&&(t=0),ne.scrollLeft=Math.max(0,t-10),u=!0):n>f+h&&(ne.scrollLeft=n+10-f,u=!0,n>re.clientWidth&&(c=!1)),u&&_t.onScroll&&_t.onScroll(je),c}function nt(){var t=Pt(),e=ne.scrollTop-zt();return{from:Math.min(ge.length,Math.max(0,Math.floor(e/t))),to:Math.min(ge.length,Math.ceil((e+ne.clientHeight)/t))}}function rt(t){if(!ne.clientWidth)return void(Le=Ne=0);for(var e=t===!0?[]:[{from:Le,to:Ne,domStart:0}],n=0,r=t.length||0;r>n;++n){for(var o=t[n],i=[],a=o.diff||0,l=0,s=e.length;s>l;++l){var u=e[l];o.to<=u.from?i.push({from:u.from+a,to:u.to+a,domStart:u.domStart}):u.to<=o.from?i.push(u):(o.from>u.from&&i.push({from:u.from,to:o.from,domStart:u.domStart}),o.to<u.to&&i.push({from:o.to+a,to:u.to+a,domStart:u.domStart+(o.to-u.from)}))}e=i}for(var c=nt(),f=Math.min(Le,Math.max(c.from-3,0)),h=Math.min(ge.length,Math.max(Ne,c.to+3)),d=[],m=0,p=Ne-Le,v=f,g=0,n=0,r=e.length;r>n;++n){var u=e[n];if(!(u.to<=f)){if(u.from>=h)break;(u.domStart>m||u.from>v)&&(d.push({from:v,to:u.from,domSize:u.domStart-m,domStart:m}),g+=u.from-v),v=u.to,m=u.domStart+(u.to-u.from)}}if((m!=p||v!=h)&&(g+=Math.abs(h-v),d.push({from:v,to:h,domSize:p-m,domStart:m})),d.length){ce.style.display="none",g>.3*(c.to-c.from)?ot(f=Math.max(c.from-10,0),h=Math.min(c.to+7,ge.length)):it(d),ce.style.display="";var x=f!=Le||h!=Ne||He!=ne.clientHeight;Le=f,Ne=h,ie.style.top=f*Pt()+"px",x&&(He=ne.clientHeight,re.style.height=ge.length*Pt()+2*zt()+"px",at());var y=Ot(ze);if(se.style.width=y>ne.clientWidth?y+"px":"",ce.childNodes.length!=Ne-Le)throw new Error("BAD PATCH! "+JSON.stringify(d)+" size="+(Ne-Le)+" nodes="+ce.childNodes.length);lt()}}function ot(t,e){for(var n=[],r={line:t,ch:0},o=v(Ee.from,r)&&!v(Ee.to,r),i=t;e>i;++i){var a=null,l=null;o?(a=0,Ee.to.line==i&&(o=!1,l=Ee.to.ch)):Ee.from.line==i&&(Ee.to.line==i?(a=Ee.from.ch,l=Ee.to.ch):(o=!0,a=Ee.from.ch)),n.push(ge[i].getHTML(a,l,!0))}ce.innerHTML=n.join("")}function it(t){for(var e=Ee.from.line,n=Ee.to.line,r=0,o=w&&Qt.createElement("div"),i=0,a=t.length;a>i;++i){var l=t[i],s=l.to-l.from-l.domSize,u=ce.childNodes[l.domStart+l.domSize+r]||null;if(w)for(var c=Math.max(-s,l.domSize);c>0;--c)ce.removeChild(u?u.previousSibling:ce.lastChild);else if(s){for(var c=Math.max(0,s);c>0;--c)ce.insertBefore(Qt.createElement("pre"),u);for(var c=Math.max(0,-s);c>0;--c)ce.removeChild(u?u.previousSibling:ce.lastChild)}for(var f=ce.childNodes[l.domStart+r],h=e<l.from&&n>=l.from,c=l.from;c<l.to;++c){var d=null,m=null;h?(d=0,n==c&&(h=!1,m=Ee.to.ch)):e==c&&(n==c?(d=Ee.from.ch,m=Ee.to.ch):(h=!0,d=Ee.from.ch)),w?(o.innerHTML=ge[c].getHTML(d,m,!0),ce.insertBefore(o.firstChild,u)):(f.innerHTML=ge[c].getHTML(d,m,!1),f.className=ge[c].className||"",f=f.nextSibling)}r+=s}}function at(){if(_t.gutter||_t.lineNumbers){var t=ie.offsetHeight,e=ne.clientHeight;ae.style.height=(2>t-e?e:t)+"px";for(var n=[],r=Le;r<Math.max(Ne,Le+1);++r){var o=ge[r].gutterMarker,i=_t.lineNumbers?r+_t.firstLineNumber:null;o&&o.text?i=o.text.replace("%N%",null!=i?i:""):null==i&&(i=" "),n.push(o&&o.style?'<pre class="'+o.style+'">':"<pre>",i,"</pre>")}ae.style.display="none",le.innerHTML=n.join("");for(var a=String(ge.length).length,l=le.firstChild,s=m(l),u="";s.length+u.length<a;)u+=" ";u&&l.insertBefore(Qt.createTextNode(u),l.firstChild),ae.style.display="",se.style.marginLeft=ae.offsetWidth+"px"}}function lt(){var t=Ee.inverted?Ee.from:Ee.to,e=Pt(),n=Et(t.line,t.ch)+"px",r=(t.line-Le)*e+"px";te.style.top=t.line*e-ne.scrollTop+"px",p(Ee.from,Ee.to)?(ue.style.top=r,ue.style.left=n,ue.style.display=""):ue.style.display="none"}function st(t,e){var n=ye&&ht(ye);n&&(v(n,t)?t=n:v(e,n)&&(e=n)),ut(t,e)}function ut(t,e,n,r){if(!p(Ee.from,t)||!p(Ee.to,e)){if(v(e,t)){var o=e;e=t,t=o}p(t,e)?Ee.inverted=!1:p(t,Ee.to)?Ee.inverted=!1:p(e,Ee.from)&&(Ee.inverted=!0),null==n&&(n=Ee.from.line,r=Ee.to.line),p(t,e)?p(Ee.from,Ee.to)||Ce.push({from:n,to:r+1}):p(Ee.from,Ee.to)?Ce.push({from:t.line,to:e.line+1}):(p(t,Ee.from)||Ce.push(t.line<n?{from:t.line,to:Math.min(e.line,n)+1}:{from:n,to:Math.min(r,t.line)+1}),p(e,Ee.to)||Ce.push(e.line<r?{from:Math.max(n,t.line),to:r+1}:{from:Math.max(t.line,r),to:e.line+1})),Ee.from=t,Ee.to=e,Se=!0}}function ct(t,e,n){var r=ht({line:t,ch:e||0});(n?st:ut)(r,r)}function ft(t){return Math.max(0,Math.min(t,ge.length-1))}function ht(t){if(t.line<0)return{line:0,ch:0};if(t.line>=ge.length)return{line:ge.length-1,ch:ge[ge.length-1].text.length};var e=t.ch,n=ge[t.line].text.length;return null==e||e>n?{line:t.line,ch:n}:0>e?{line:t.line,ch:0}:t}function dt(t){var e=Math.floor(ne.clientHeight/Pt()),n=Ee.inverted?Ee.from:Ee.to;ct(n.line+Math.max(e-1,1)*(t?1:-1),n.ch,!0)}function mt(t){var e=t?{line:0,ch:0}:{line:ge.length-1,ch:ge[ge.length-1].text.length};st(e,e)}function pt(){var t=ge.length-1;ut({line:0,ch:0},{line:t,ch:ge[t].text.length})}function vt(t){for(var e=ge[t.line].text,n=t.ch,r=t.ch;n>0&&/\w/.test(e.charAt(n-1));)--n;for(;r<e.length&&/\w/.test(e.charAt(r));)++r;st({line:t.line,ch:n},{line:t.line,ch:r})}function gt(t){st({line:t,ch:0},{line:t,ch:ge[t].text.length})}function xt(){Y("\n","end"),"flat"!=_t.enterMode&&bt(Ee.from.line,"keep"==_t.enterMode?"prev":"smart")}function yt(t){switch(ye=null,_t.tabMode){case"default":return!1;case"indent":for(var e=Ee.from.line,n=Ee.to.line;n>=e;++e)bt(e,"smart");break;case"classic":if(p(Ee.from,Ee.to)){t?bt(Ee.from.line,"smart"):Y("	","end");break}case"shift":for(var e=Ee.from.line,n=Ee.to.line;n>=e;++e)bt(e,t?"subtract":"add")}return!0}function bt(t,e){if("smart"==e)if(he.indent)var n=Vt(t);else e="prev";var r,o=ge[t],i=o.indentation(),a=o.text.match(/^\s*/)[0];"prev"==e?r=t?ge[t-1].indentation():0:"smart"==e?r=he.indent(n,o.text.slice(a.length)):"add"==e?r=i+_t.indentUnit:"subtract"==e&&(r=i-_t.indentUnit),r=Math.max(0,r);var l=r-i;if(l){var s="",u=0;if(_t.indentWithTabs)for(var c=Math.floor(r/E);c;--c)u+=E,s+="	";for(;r>u;)++u,s+=" "}else{if(Ee.from.line!=t&&Ee.to.line!=t)return;var s=a}F(s,{line:t,ch:0},{line:t,ch:a.length})}function Mt(){he=t.getMode(_t,_t.mode);for(var e=0,n=ge.length;n>e;++e)ge[e].stateAfter=null;de=[0],Ft()}function kt(){var t=_t.gutter||_t.lineNumbers;ae.style.display=t?"":"none",t?at():ce.parentNode.style.marginLeft=0}function Ct(t,e,n){function r(t,e,n,r){var t=ge[t],i=t.addMark(e,n,r);i.line=t,o.push(i)}t=ht(t),e=ht(e);var o=[];if(t.line==e.line)r(t.line,t.ch,e.ch,n);else{r(t.line,t.ch,null,n);for(var i=t.line+1,a=e.line;a>i;++i)r(i,0,null,n);r(e.line,0,e.ch,n)}return Ce.push({from:t.line,to:e.line+1}),function(){for(var t,e,n=0;n<o.length;++n){var r=o[n],i=b(ge,r.line);r.line.removeMark(r),i>-1&&(null==t&&(t=i),e=i)}null!=t&&Ce.push({from:t,to:e+1})}}function wt(t,e,n){return"number"==typeof t&&(t=ge[ft(t)]),t.gutterMarker={text:e,style:n},at(),t}function St(t){"number"==typeof t&&(t=ge[ft(t)]),t.gutterMarker=null,at()}function Tt(t,e){if("number"==typeof t){var n=t;t=ge[ft(t)]}else{var n=b(ge,t);if(-1==n)return null}return t.className!=e&&(t.className=e,Ce.push({from:n,to:n+1})),t}function At(t){if("number"==typeof t){var e=t;if(t=ge[t],!t)return null}else{var e=b(ge,t);if(-1==e)return null}var n=t.gutterMarker;return{line:e,text:t.text,markerText:n&&n.text,markerClass:n&&n.style}}function Ot(t){return oe.innerHTML="<pre><span>x</span></pre>",oe.firstChild.firstChild.firstChild.nodeValue=t,oe.firstChild.firstChild.offsetWidth||10}function Et(t,e){return 0==e?0:(oe.innerHTML="<pre><span>"+ge[t].getHTML(null,null,!1,e)+"</span></pre>",oe.firstChild.firstChild.offsetWidth)}function Lt(t,e){function n(t){return oe.innerHTML="<pre><span>"+o.getHTML(null,null,!1,t)+"</span></pre>",oe.firstChild.firstChild.offsetWidth}if(0>=e)return 0;for(var r,o=ge[t],i=o.text,a=0,l=0,s=i.length,u=Math.min(s,Math.ceil(e/Ot("x")));;){var c=n(u);if(!(e>=c&&s>u)){r=c,s=u;break}u=Math.min(s,Math.ceil(1.2*u))}if(e>r)return s;for(u=Math.floor(.8*s),c=n(u),e>c&&(a=u,l=c);;){if(1>=s-a)return r-e>e-l?a:s;var f=Math.ceil((a+s)/2),h=n(f);h>e?(s=f,r=h):(a=f,l=h)}}function Nt(t,e){var n=Pt(),r=t.line-(e?Le:0);return{x:Et(t.line,t.ch),y:r*n,yBot:(r+1)*n}}function Ht(t){var e=Nt(t,!0),n=d(se);return{x:n.left+e.x,y:n.top+e.y,yBot:n.top+e.yBot}}function Pt(){var t=ce.childNodes.length;return t?ce.offsetHeight/t||1:(oe.innerHTML="<pre>x</pre>",oe.firstChild.offsetHeight||1)}function zt(){return se.offsetTop}function It(){return se.offsetLeft}function Wt(t,e){var n=d(ne,!0),r=t.e.clientX,o=t.e.clientY;if(!e&&(r-n.left>ne.clientWidth||o-n.top>ne.clientHeight))return null;var i=d(se,!0),a=Le+Math.floor((o-i.top)/Pt());return ht({line:a,ch:Lt(ft(a),r-i.left)})}function jt(t){function e(){ee.value!=o&&Xt(Y)(ee.value,"end"),ee.style.cssText=r,Te=!1,Q(),_()}var n=Wt(t);if(n&&!window.opera){(p(Ee.from,Ee.to)||v(n,Ee.from)||!v(n,Ee.to))&&ct(n.line,n.ch);var r=ee.style.cssText;ee.style.cssText="position: fixed; width: 30px; height: 30px; top: "+(t.pageY()-1)+"px; left: "+(t.pageX()-1)+"px; z-index: 1000; background: white; border-width: 0; outline: none; overflow: hidden; opacity: .05;";var o=ee.value=G();if(Z(),I(ee,0,ee.value.length),Te=!0,S){t.stop();var i=c(window,"mouseup",function(){i(),setTimeout(e,20)},!0)}else setTimeout(e,50)}}function Bt(){clearInterval(fe);var t=!0;ue.style.visibility="",fe=setInterval(function(){ue.style.visibility=(t=!t)?"":"hidden"},650)}function Dt(t){function e(t,e,n){if(t.text)for(var r,o=t.styles,i=a?0:t.text.length-1,s=a?0:o.length-2,u=a?o.length:-2;s!=u;s+=2*l){var c=o[s];if(null==o[s+1]||o[s+1]==h){for(var f=a?0:c.length-1,p=a?c.length:-1;f!=p;f+=l,i+=l)if(i>=e&&n>i&&m.test(r=c.charAt(f))){var v=De[r];if(">"==v.charAt(1)==a)d.push(r);else{if(d.pop()!=v.charAt(0))return{pos:i,match:!1};if(!d.length)return{pos:i,match:!0}}}}else i+=l*c.length}}var n=Ee.inverted?Ee.from:Ee.to,r=ge[n.line],o=n.ch-1,i=o>=0&&De[r.text.charAt(o)]||De[r.text.charAt(++o)];if(i){for(var a=(i.charAt(0),">"==i.charAt(1)),l=a?1:-1,s=r.styles,u=o+1,c=0,f=s.length;f>c;c+=2)if((u-=s[c].length)<=0){var h=s[c+1];break}for(var d=[r.text.charAt(o)],m=/[(){}[\]]/,c=n.line,f=a?Math.min(c+50,ge.length):Math.max(-1,c-50);c!=f;c+=l){var r=ge[c],p=c==n.line,v=e(r,p&&a?o+1:0,p&&!a?o:r.text.length);if(v){var h=v.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket",g=Ct({line:n.line,ch:o},{line:n.line,ch:o+1},h),x=Ct({line:c,ch:v.pos},{line:c,ch:v.pos+1},h),y=Xt(function(){g(),x()});t?setTimeout(y,800):Oe=y;break}}}}function Kt(t){for(var e,n,r=t,o=t-40;r>o;--r){if(0==r)return 0;var i=ge[r-1];if(i.stateAfter)return r;var a=i.indentation();(null==n||e>a)&&(n=r,e=a)}return n}function Vt(t){var r=Kt(t),o=r&&ge[r-1].stateAfter;o=o?e(he,o):n(he);for(var i=r;t>i;++i){var a=ge[i];a.highlight(he,o),a.stateAfter=e(he,o)}return ge[t].stateAfter||de.push(t),o}function Rt(t,n){for(var r=Vt(t),o=t;n>o;++o){var i=ge[o];i.highlight(he,r),i.stateAfter=e(he,r)}}function Ut(){for(var t=+new Date+_t.workTime,r=de.length;de.length;){if(ge[Le].stateAfter)var o=de.pop();else var o=Le;if(!(o>=ge.length)){var i=Kt(o),a=i&&ge[i-1].stateAfter;a=a?e(he,a):n(he);for(var l=0,s=i,u=ge.length;u>s;++s){var c=ge[s],f=c.stateAfter;if(+new Date>t)return de.push(s),Ft(_t.workDelay),void Ce.push({from:o,to:s});var h=c.highlight(he,a);if(c.stateAfter=e(he,a),h||!f)l=0;else if(++l>3)break}Ce.push({from:o,to:s})}}r&&_t.onHighlightComplete&&_t.onHighlightComplete(je)}function Ft(t){de.length&&ve.set(t,Xt(Ut))}function Yt(){ke=null,Ce=[],we=Se=!1}function qt(){var t=!1;Se&&(t=!tt()),Ce.length?rt(Ce):Se&&lt(),t&&tt(),Se&&Bt(),!Te&&(ke===!0||ke!==!1&&Se)&&Q(),Se&&_t.matchBrackets&&setTimeout(Xt(function(){Oe&&(Oe(),Oe=null),Dt(!1)}),20);var e=we;Se&&_t.onCursorActivity&&_t.onCursorActivity(je),e&&_t.onChange&&je&&_t.onChange(je,e)}function Xt(t){return function(){Ke++||Yt();try{var e=t.apply(this,arguments)}finally{--Ke||qt()}return e}}function Gt(t,e,n){if(this.atOccurrence=!1,null==n&&(n="string"==typeof t&&t==t.toLowerCase()),e=e&&"object"==typeof e?ht(e):{line:0,ch:0},this.pos={from:e,to:e},"string"!=typeof t)this.matches=function(e,n){if(e)for(var r=ge[n.line].text.slice(0,n.ch),o=r.match(t),i=0;o;){var a=r.indexOf(o[0]);i+=a,r=r.slice(a+1);var l=r.match(t);if(!l)break;o=l,i++}else var r=ge[n.line].text.slice(n.ch),o=r.match(t),i=o&&n.ch+r.indexOf(o[0]);return o?{from:{line:n.line,ch:i},to:{line:n.line,ch:i+o[0].length},match:o}:void 0};else{n&&(t=t.toLowerCase());var r=n?function(t){return t.toLowerCase()}:function(t){return t},o=t.split("\n");this.matches=1==o.length?function(e,n){var o,i=r(ge[n.line].text),a=t.length;return(e?n.ch>=a&&-1!=(o=i.lastIndexOf(t,n.ch-a)):-1!=(o=i.indexOf(t,n.ch)))?{from:{line:n.line,ch:o},to:{line:n.line,ch:o+a}}:void 0}:function(t,e){var n=e.line,i=t?o.length-1:0,a=o[i],l=r(ge[n].text),s=t?l.indexOf(a)+a.length:l.lastIndexOf(a);if(!(t?s>=e.ch||s!=a.length:s<=e.ch||s!=l.length-a.length))for(;;){if(t?!n:n==ge.length-1)return;if(l=r(ge[n+=t?-1:1].text),a=o[t?--i:++i],!(i>0&&i<o.length-1)){var u=t?l.lastIndexOf(a):l.indexOf(a)+a.length;if(t?u!=l.length-a.length:u!=a.length)return;var c={line:e.line,ch:s},f={line:n,ch:u};return{from:t?f:c,to:t?c:f}}if(l!=a)return}}}}var _t={},$t=t.defaults;for(var Jt in $t)$t.hasOwnProperty(Jt)&&(_t[Jt]=(i&&i.hasOwnProperty(Jt)?i:$t)[Jt]);var Qt=_t.document,Zt=Qt.createElement("div");Zt.className="CodeMirror",Zt.innerHTML='<div style="overflow: hidden; position: relative; width: 1px; height: 0px;"><textarea style="position: absolute; width: 2px;" wrap="off"></textarea></div><div class="CodeMirror-scroll cm-s-'+_t.theme+'"><div style="position: relative"><div style="position: absolute; height: 0; width: 0; overflow: hidden;"></div><div style="position: relative"><div class="CodeMirror-gutter"><div class="CodeMirror-gutter-text"></div></div><div class="CodeMirror-lines"><div style="position: relative"><pre class="CodeMirror-cursor">&#160;</pre><div></div></div></div></div></div></div>',r.appendChild?r.appendChild(Zt):r(Zt);var te=Zt.firstChild,ee=te.firstChild,ne=Zt.lastChild,re=ne.firstChild,oe=re.firstChild,ie=oe.nextSibling,ae=ie.firstChild,le=ae.firstChild,se=ae.nextSibling.firstChild,ue=se.firstChild,ce=ue.nextSibling;null!=_t.tabindex&&(ee.tabindex=_t.tabindex),_t.gutter||_t.lineNumbers||(ae.style.display="none");var fe,he,de,me,pe=new f,ve=new f,ge=[new o("")],xe=new a;Mt();var ye,be,Me,ke,Ce,we,Se,Te,Ae,Oe,Ee={from:{line:0,ch:0},to:{line:0,ch:0},inverted:!1},Le=0,Ne=0,He=0,Pe=null,ze="";Xt(function(){u(_t.value||""),ke=!1})(),setTimeout(Q,20),c(ne,"mousedown",Xt(x)),S||c(ne,"contextmenu",Xt(jt)),c(re,"dblclick",Xt(M)),c(ne,"scroll",function(){rt([]),_t.onScroll&&_t.onScroll(je)}),c(window,"resize",function(){rt(!0)}),c(ee,"keyup",Xt(H)),c(ee,"keydown",Xt(A)),c(ee,"keypress",Xt(W)),c(ee,"focus",j),c(ee,"blur",B),c(ne,"dragenter",function(t){t.stop()}),c(ne,"dragover",function(t){t.stop()}),c(ne,"drop",Xt(k)),c(ne,"paste",function(){Z(),$()}),c(ee,"paste",function(){$()}),c(ee,"cut",function(){$()});var Ie;try{Ie=Qt.activeElement==ee}catch(We){}Ie?j():B();var je={getValue:h,setValue:Xt(u),getSelection:G,replaceSelection:Xt(Y),focus:function(){Z(),j(),Q(),$()},setOption:function(t,e){_t[t]=e,"lineNumbers"==t||"gutter"==t?kt():"mode"==t||"indentUnit"==t?Mt():"readOnly"==t&&"nocursor"==e?ee.blur():"theme"==t&&(ne.className=ne.className.replace(/cm-s-\w+/,"cm-s-"+e))},getOption:function(t){return _t[t]},undo:Xt(V),redo:Xt(R),indentLine:Xt(function(t){l(t)&&bt(t,"smart")}),historySize:function(){return{undo:xe.done.length,redo:xe.undone.length}},matchBrackets:Xt(function(){Dt(!0)}),getTokenAt:function(t){return t=ht(t),ge[t.line].getTokenAt(he,Vt(t.line),t.ch)},cursorCoords:function(t){return null==t&&(t=Ee.inverted),Ht(t?Ee.from:Ee.to)},charCoords:function(t){return Ht(ht(t))},coordsChar:function(t){var e=d(se),n=ft(Math.min(ge.length-1,Le+Math.floor((t.y-e.top)/Pt())));return ht({line:n,ch:Lt(ft(n),t.x-e.left)})},getSearchCursor:function(t,e,n){return new Gt(t,e,n)},markText:Xt(function(t,e,n){return Xt(Ct(t,e,n))}),setMarker:wt,clearMarker:St,setLineClass:Xt(Tt),lineInfo:At,addWidget:function(t,e,n){var t=Nt(ht(t),!0);e.style.top=Le*Pt()+t.yBot+zt()+"px",e.style.left=t.x+It()+"px",re.appendChild(e),n&&et(t.x,t.yBot,t.x+e.offsetWidth,t.yBot+e.offsetHeight)},lineCount:function(){return ge.length},getCursor:function(t){return null==t&&(t=Ee.inverted),g(t?Ee.from:Ee.to)},somethingSelected:function(){return!p(Ee.from,Ee.to)},setCursor:Xt(function(t,e){null==e&&"number"==typeof t.line?ct(t.line,t.ch):ct(t,e)}),setSelection:Xt(function(t,e){ut(ht(t),ht(e||t))}),getLine:function(t){return l(t)?ge[t].text:void 0},setLine:Xt(function(t,e){l(t)&&F(e,{line:t,ch:0},{line:t,ch:ge[t].text.length})}),removeLine:Xt(function(t){l(t)&&F("",{line:t,ch:0},ht({line:t+1,ch:0}))}),replaceRange:Xt(F),getRange:function(t,e){return X(ht(t),ht(e))},operation:function(t){return Xt(t)()},refresh:function(){rt(!0)},getInputField:function(){return ee},getWrapperElement:function(){return Zt}},Be=!1,De={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<"},Ke=0;Gt.prototype={findNext:function(){return this.find(!1)},findPrevious:function(){return this.find(!0)},find:function(t){function e(t){var e={line:t,ch:0};return n.pos={from:e,to:e},n.atOccurrence=!1,!1}for(var n=this,r=ht(t?this.pos.from:this.pos.to);;){if(this.pos=this.matches(t,r))return this.atOccurrence=!0,this.pos.match||!0;if(t){if(!r.line)return e(0);r={line:r.line-1,ch:ge[r.line-1].text.length}}else{if(r.line==ge.length-1)return e(ge.length);r={line:r.line+1,ch:0}}}},from:function(){return this.atOccurrence?g(this.pos.from):void 0},to:function(){return this.atOccurrence?g(this.pos.to):void 0}};for(var Ve in C)C.propertyIsEnumerable(Ve)&&!je.propertyIsEnumerable(Ve)&&(je[Ve]=C[Ve]);return je}function e(t,e){if(e===!0)return e;if(t.copyState)return t.copyState(e);var n={};for(var r in e){var o=e[r];o instanceof Array&&(o=o.concat([])),n[r]=o}return n}function n(t,e,n){return t.startState?t.startState(e,n):!0}function r(t){this.pos=this.start=0,this.string=t}function o(t,e){this.styles=e||[t,null],this.stateAfter=null,this.text=t,this.marked=this.gutterMarker=this.className=null}function i(t,e,n,r){for(var o=0,i=0,a=0;e>i;o+=2){var l=n[o],s=i+l.length;0==a?(s>t&&r.push(l.slice(t-i,Math.min(l.length,e-i)),n[o+1]),s>=t&&(a=1)):1==a&&(s>e?r.push(l.slice(0,e-i),n[o+1]):r.push(l,n[o+1])),i=s}}function a(){this.time=0,this.done=[],this.undone=[]}function l(){this.preventDefault?(this.preventDefault(),this.stopPropagation()):(this.returnValue=!1,this.cancelBubble=!0)}function s(t){return t.stop||(t.stop=l),t}function u(t){this.e=t}function c(t,e,n,r){function o(t){n(new u(t||window.event))}if("function"==typeof t.addEventListener){if(t.addEventListener(e,o,!1),r)return function(){t.removeEventListener(e,o,!1)}}else if(t.attachEvent("on"+e,o),r)return function(){t.detachEvent("on"+e,o)}}function f(){this.id=null}function h(t,e){null==e&&(e=t.search(/[^\s\u00a0]/),-1==e&&(e=t.length));for(var n=0,r=0;e>n;++n)"	"==t.charAt(n)?r+=E-r%E:++r;return r}function d(t,e){for(var n=t.ownerDocument.body,r=0,o=0,i=!1,a=t;a;a=a.offsetParent)r+=a.offsetLeft,o+=a.offsetTop,a==n&&(i=!0);for(var l=e&&i?null:n,a=t.parentNode;a!=l;a=a.parentNode)null!=a.scrollLeft&&(r-=a.scrollLeft,o-=a.scrollTop);return{left:r,top:o}}function m(t){return t.textContent||t.innerText||t.nodeValue||""}function p(t,e){return t.line==e.line&&t.ch==e.ch}function v(t,e){return t.line<e.line||t.line==e.line&&t.ch<e.ch}function g(t){return{line:t.line,ch:t.ch}}function x(t){return t.replace(/[<>&]/g,function(t){return"&"==t?"&amp;":"<"==t?"&lt;":"&gt;"})}function y(t,e){if(!e)return t?t.length:0;if(!t)return e.length;for(var n=t.length,r=e.length;n>=0&&r>=0&&t.charAt(n)==e.charAt(r);--n,--r);return r+1}function b(t,e){if(t.indexOf)return t.indexOf(e);for(var n=0,r=t.length;r>n;++n)if(t[n]==e)return n;return-1}t.defaults={value:"",mode:null,theme:"default",indentUnit:2,indentWithTabs:!1,tabMode:"classic",enterMode:"indent",electricChars:!0,onKeyEvent:null,lineNumbers:!1,gutter:!1,firstLineNumber:1,readOnly:!1,onChange:null,onCursorActivity:null,onGutterClick:null,onHighlightComplete:null,onFocus:null,onBlur:null,onScroll:null,matchBrackets:!1,workTime:100,workDelay:200,undoDepth:40,tabindex:null,document:window.document};var M={},k={};t.defineMode=function(e,n){t.defaults.mode||"null"==e||(t.defaults.mode=e),M[e]=n},t.defineMIME=function(t,e){k[t]=e},t.getMode=function(e,n){if("string"==typeof n&&k.hasOwnProperty(n)&&(n=k[n]),"string"==typeof n)var r=n,o={};else if(null!=n)var r=n.name,o=n;var i=M[r];return i?i(e,o||{}):(window.console&&console.warn("No mode "+r+" found, falling back to plain text."),t.getMode(e,"text/plain"))},t.listModes=function(){var t=[];for(var e in M)M.propertyIsEnumerable(e)&&t.push(e);return t},t.listMIMEs=function(){var t=[];for(var e in k)k.propertyIsEnumerable(e)&&t.push(e);return t};var C={};t.defineExtension=function(t,e){C[t]=e},t.fromTextArea=function(e,n){function r(){e.value=l.getValue()}function o(){r(),e.form.submit=a,e.form.submit(),e.form.submit=o}if(n||(n={}),n.value=e.value,!n.tabindex&&e.tabindex&&(n.tabindex=e.tabindex),e.form){var i=c(e.form,"submit",r,!0);if("function"==typeof e.form.submit){var a=e.form.submit;e.form.submit=o}}e.style.display="none";var l=t(function(t){e.parentNode.insertBefore(t,e.nextSibling)},n);return l.save=r,l.toTextArea=function(){r(),e.parentNode.removeChild(l.getWrapperElement()),e.style.display="",e.form&&(i(),"function"==typeof e.form.submit&&(e.form.submit=a))},l},t.startState=n,t.copyState=e,r.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return 0==this.pos},peek:function(){return this.string.charAt(this.pos)},next:function(){return this.pos<this.string.length?this.string.charAt(this.pos++):void 0},eat:function(t){var e=this.string.charAt(this.pos);if("string"==typeof t)var n=e==t;else var n=e&&(t.test?t.test(e):t(e));return n?(++this.pos,e):void 0},eatWhile:function(t){for(var e=this.start;this.eat(t););return this.pos>e},eatSpace:function(){for(var t=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>t},skipToEnd:function(){this.pos=this.string.length},skipTo:function(t){var e=this.string.indexOf(t,this.pos);return e>-1?(this.pos=e,!0):void 0},backUp:function(t){this.pos-=t},column:function(){return h(this.string,this.start)},indentation:function(){return h(this.string)},match:function(t,e,n){function r(t){return n?t.toLowerCase():t}if("string"!=typeof t){var o=this.string.slice(this.pos).match(t);return o&&e!==!1&&(this.pos+=o[0].length),o}return r(this.string).indexOf(r(t),this.pos)==this.pos?(e!==!1&&(this.pos+=t.length),!0):void 0},current:function(){return this.string.slice(this.start,this.pos)}},t.StringStream=r,o.prototype={replace:function(t,e,n){function r(t){return t<=Math.min(e,e+l)?t:t+l}var o=[],a=this.marked;if(i(0,t,this.styles,o),n&&o.push(n,null),i(e,this.text.length,this.styles,o),this.styles=o,this.text=this.text.slice(0,t)+n+this.text.slice(e),this.stateAfter=null,a)for(var l=n.length-(e-t),s=this.text.length,u=0;u<a.length;++u){var c=a[u],f=!1;c.from>=s?f=!0:(c.from=r(c.from),null!=c.to&&(c.to=r(c.to))),(f||c.from>=c.to)&&(a.splice(u,1),u--)}},split:function(t,e){var n=[e,null];return i(t,this.text.length,this.styles,n),new o(e+this.text.slice(t),n);

},addMark:function(t,e,n){var r=(this.marked,{from:t,to:e,style:n});return null==this.marked&&(this.marked=[]),this.marked.push(r),this.marked.sort(function(t,e){return t.from-e.from}),r},removeMark:function(t){var e=this.marked;if(e)for(var n=0;n<e.length;++n)if(e[n]==t){e.splice(n,1);break}},highlight:function(t,e){var n,o=new r(this.text),i=this.styles,a=0,l=!1,s=i[0];for(""==this.text&&t.blankLine&&t.blankLine(e);!o.eol();){var u=t.token(o,e),c=this.text.slice(o.start,o.pos);if(o.start=o.pos,a&&i[a-1]==u?i[a-2]+=c:c&&(!l&&(i[a+1]!=u||a&&i[a-2]!=n)&&(l=!0),i[a++]=c,i[a++]=u,n=s,s=i[a]),o.pos>5e3){i[a++]=this.text.slice(o.pos),i[a++]=null;break}}return i.length!=a&&(i.length=a,l=!0),a&&i[a-2]!=n&&(l=!0),l||i.length<5&&this.text.length<10},getTokenAt:function(t,e,n){for(var o=this.text,i=new r(o);i.pos<n&&!i.eol();){i.start=i.pos;var a=t.token(i,e)}return{start:i.start,end:i.pos,string:i.current(),className:a||null,state:e}},indentation:function(){return h(this.text)},getHTML:function(t,e,n,r){function o(t,e){t&&(e?a.push('<span class="cm-',e,'">',x(t),"</span>"):a.push(x(t)))}function i(){u&&(p+=1,v=p<u.length?u[p]:null)}var a=[];n&&a.push(this.className?'<pre class="'+this.className+'">':"<pre>");var l=this.styles,s=this.text,u=this.marked;t==e&&(t=null);var c=s.length;if(null!=r&&(c=Math.min(r,c)),s||null!=r)if(u||null!=t){var f,h=0,d=0,m="",p=-1,v=null;for(i();c>h;){var g=c,y="";for(null!=t&&(t>h?g=t:(null==e||e>h)&&(y=" CodeMirror-selected",null!=e&&(g=Math.min(g,e))));v&&null!=v.to&&v.to<=h;)i();for(v&&(v.from>h?g=Math.min(g,v.from):(y+=" "+v.style,null!=v.to&&(g=Math.min(g,v.to))));;){var b=h+m.length,M=f;if(y&&(M=f?f+y:y),o(b>g?m.slice(0,g-h):m,M),b>=g){m=m.slice(g-h),h=g;break}h=b,m=l[d++],f=l[d++]}}null!=t&&null==e&&o(" ","CodeMirror-selected")}else for(var d=0,k=0;c>k;d+=2){var C=l[d],w=C.length;k+w>c&&(C=C.slice(0,c-k)),k+=w,o(C,l[d+1])}else o(" ",null!=t&&null==e?"CodeMirror-selected":null);return n&&a.push("</pre>"),a.join("")}},a.prototype={addChange:function(t,e,n){this.undone.length=0;var r=+new Date,o=this.done[this.done.length-1];if(r-this.time>400||!o||o.start>t+e||o.start+o.added<t-o.added+o.old.length)this.done.push({start:t,added:e,old:n});else{var i=0;if(t<o.start){for(var a=o.start-t-1;a>=0;--a)o.old.unshift(n[a]);o.added+=o.start-t,o.start=t}else o.start<t&&(i=t-o.start,e+=i);for(var a=o.added-i,l=n.length;l>a;++a)o.old.push(n[a]);o.added<e&&(o.added=e)}this.time=r}},u.prototype={stop:function(){l.call(this.e)},target:function(){return this.e.target||this.e.srcElement},button:function(){return this.e.which?this.e.which:1&this.e.button?1:2&this.e.button?3:4&this.e.button?2:void 0},pageX:function(){if(null!=this.e.pageX)return this.e.pageX;var t=this.target().ownerDocument;return this.e.clientX+t.body.scrollLeft+t.documentElement.scrollLeft},pageY:function(){if(null!=this.e.pageY)return this.e.pageY;var t=this.target().ownerDocument;return this.e.clientY+t.body.scrollTop+t.documentElement.scrollTop}},f.prototype={set:function(t,e){clearTimeout(this.id),this.id=setTimeout(e,t)}};var w=function(){var t=document.createElement("pre");return t.innerHTML=" ",!t.innerHTML}(),S=/gecko\/\d{7}/i.test(navigator.userAgent),T=/MSIE \d/.test(navigator.userAgent),A=/Apple Computer/.test(navigator.vendor),O="\n";!function(){var t=document.createElement("textarea");t.value="foo\nbar",t.value.indexOf("\r")>-1&&(O="\r\n")}();for(var E=8,L=/Mac/.test(navigator.platform),N={},H=35;40>=H;++H)N[H]=N["c"+H]=!0;if(t.htmlEscape=x,3!="\n\nb".split(/\n/).length)var P=function(t){for(var e,n=0,r=[];(e=t.indexOf("\n",n))>-1;)r.push(t.slice(n,"\r"==t.charAt(e-1)?e-1:e)),n=e+1;return r.push(t.slice(n)),r};else var P=function(t){return t.split(/\r?\n/)};if(t.splitLines=P,window.getSelection){var z=function(t){try{return{start:t.selectionStart,end:t.selectionEnd}}catch(e){return null}};if(A)var I=function(t,e,n){e==n?t.setSelectionRange(e,n):(t.setSelectionRange(e,n-1),window.getSelection().modify("extend","forward","character"))};else var I=function(t,e,n){try{t.setSelectionRange(e,n)}catch(r){}}}else var z=function(t){try{var e=t.ownerDocument.selection.createRange()}catch(n){return null}if(!e||e.parentElement()!=t)return null;var r=t.value,o=r.length,i=t.createTextRange();i.moveToBookmark(e.getBookmark());var a=t.createTextRange();if(a.collapse(!1),i.compareEndPoints("StartToEnd",a)>-1)return{start:o,end:o};for(var l=-i.moveStart("character",-o),s=r.indexOf("\r");s>-1&&l>s;s=r.indexOf("\r",s+1),l++);if(i.compareEndPoints("EndToEnd",a)>-1)return{start:l,end:o};for(var u=-i.moveEnd("character",-o),s=r.indexOf("\r");s>-1&&u>s;s=r.indexOf("\r",s+1),u++);return{start:l,end:u}},I=function(t,e,n){var r=t.createTextRange();r.collapse(!0);for(var o=r.duplicate(),i=0,a=t.value,l=a.indexOf("\n");l>-1&&e>l;l=a.indexOf("\n",l+1))++i;for(r.move("character",e-i);l>-1&&n>l;l=a.indexOf("\n",l+1))++i;o.move("character",n-i),r.setEndPoint("EndToEnd",o),r.select()};return t.defineMode("null",function(){return{token:function(t){t.skipToEnd()}}}),t.defineMIME("text/plain","null"),t}();document.write("<style>.cm-s-default span.cm-keyword {color: #708;}\n.cm-s-default span.cm-atom {color: #219;}\n.cm-s-default span.cm-number {color: #164;}\n.cm-s-default span.cm-def {color: #00f;}\n.cm-s-default span.cm-variable {color: black;}\n.cm-s-default span.cm-variable-2 {color: #05a;}\n.cm-s-default span.cm-variable-3 {color: #0a5;}\n.cm-s-default span.cm-property {color: black;}\n.cm-s-default span.cm-operator {color: black;}\n.cm-s-default span.cm-comment {color: #a50;opacity:0.3}\n.cm-s-default span.cm-string {color: #a11;}\n.cm-s-default span.cm-meta {color: #555;}\n.cm-s-default span.cm-error {color: #f00;}\n.cm-s-default span.cm-qualifier {color: #555;}\n.cm-s-default span.cm-builtin {color: #30a;}\n.cm-s-default span.cm-bracket {color: #cc7;}\n.cm-s-default span.cm-tag {color: #170;}\n.cm-s-default span.cm-attribute {color: #00c;}\n</style>"),CodeMirror.defineMode("javascript",function(t,e){function n(t,e,n){return e.tokenize=n,n(t,e)}function r(t,e){for(var n,r=!1;null!=(n=t.next());){if(n==e&&!r)return!1;r=!r&&"\\"==n}return r}function o(t,e,n){return I=t,W=n,e}function i(t,e){var i=t.next();if('"'==i||"'"==i)return n(t,e,a(i));if(/[\[\]{}\(\),;\:\.]/.test(i))return o(i);if("0"==i&&t.eat(/x/i))return t.eatWhile(/[\da-f]/i),o("number","atom");if(/\d/.test(i))return t.match(/^\d*(?:\.\d*)?(?:e[+\-]?\d+)?/),o("number","atom");if("/"==i)return t.eat("*")?n(t,e,l):t.eat("/")?(t.skipToEnd(),o("comment","comment")):e.reAllowed?(r(t,"/"),t.eatWhile(/[gimy]/),o("regexp","string")):(t.eatWhile(K),o("operator",null,t.current()));if(K.test(i))return t.eatWhile(K),o("operator",null,t.current());t.eatWhile(/[\w\$_]/);var s=t.current(),u=D.propertyIsEnumerable(s)&&D[s];return u?o(u.type,u.style,s):o("variable","variable",s)}function a(t){return function(e,n){return r(e,t)||(n.tokenize=i),o("string","string")}}function l(t,e){for(var n,r=!1;n=t.next();){if("/"==n&&r){e.tokenize=i;break}r="*"==n}return o("comment","comment")}function s(t,e,n,r,o,i){this.indented=t,this.column=e,this.type=n,this.prev=o,this.info=i,null!=r&&(this.align=r)}function u(t,e){for(var n=t.localVars;n;n=n.next)if(n.name==e)return!0}function c(t,e,n,r,o){var i=t.cc;for(R.state=t,R.stream=o,R.marked=null,R.cc=i,t.lexical.hasOwnProperty("align")||(t.lexical.align=!0);;){var a=i.length?i.pop():B?b:y;if(a(n,r)){for(;i.length&&i[i.length-1].lex;)i.pop()();return R.marked?R.marked:"variable"==n&&u(t,r)?"variable-2":e}}}function f(){for(var t=arguments.length-1;t>=0;t--)R.cc.push(arguments[t])}function h(){return f.apply(null,arguments),!0}function d(t){var e=R.state;if(e.context){R.marked="def";for(var n=e.localVars;n;n=n.next)if(n.name==t)return;e.localVars={name:t,next:e.localVars}}}function m(){R.state.context||(R.state.localVars=U),R.state.context={prev:R.state.context,vars:R.state.localVars}}function p(){R.state.localVars=R.state.context.vars,R.state.context=R.state.context.prev}function v(t,e){var n=function(){var n=R.state;n.lexical=new s(n.indented,R.stream.column(),t,null,n.lexical,e)};return n.lex=!0,n}function g(){var t=R.state;t.lexical.prev&&(")"==t.lexical.type&&(t.indented=t.lexical.indented),t.lexical=t.lexical.prev)}function x(t){return function(e){return e==t?h():";"==t?f():h(arguments.callee)}}function y(t){return"var"==t?h(v("vardef"),A,x(";"),g):"keyword a"==t?h(v("form"),b,y,g):"keyword b"==t?h(v("form"),y,g):"{"==t?h(v("}"),T,g):";"==t?h():"function"==t?h(P):"for"==t?h(v("form"),x("("),v(")"),E,x(")"),g,y,g):"variable"==t?h(v("stat"),k):"switch"==t?h(v("form"),b,v("}","switch"),x("{"),T,g,g):"case"==t?h(b,x(":")):"default"==t?h(x(":")):"catch"==t?h(v("form"),m,x("("),z,x(")"),y,g,p):f(v("stat"),b,x(";"),g)}function b(t){return V.hasOwnProperty(t)?h(M):"function"==t?h(P):"keyword c"==t?h(b):"("==t?h(v(")"),b,x(")"),g,M):"operator"==t?h(b):"["==t?h(v("]"),S(b,"]"),g,M):"{"==t?h(v("}"),S(w,"}"),g,M):h()}function M(t,e){return"operator"==t&&/\+\+|--/.test(e)?h(M):"operator"==t?h(b):";"!=t?"("==t?h(v(")"),S(b,")"),g,M):"."==t?h(C,M):"["==t?h(v("]"),b,x("]"),g,M):void 0:void 0}function k(t){return":"==t?h(g,y):f(M,x(";"),g)}function C(t){return"variable"==t?(R.marked="property",h()):void 0}function w(t){return"variable"==t&&(R.marked="property"),V.hasOwnProperty(t)?h(x(":"),b):void 0}function S(t,e){function n(r){return","==r?h(t,n):r==e?h():h(x(e))}return function(r){return r==e?h():f(t,n)}}function T(t){return"}"==t?h():f(y,T)}function A(t,e){return"variable"==t?(d(e),h(O)):h()}function O(t,e){return"="==e?h(b,O):","==t?h(A):void 0}function E(t){return"var"==t?h(A,N):";"==t?f(N):"variable"==t?h(L):f(N)}function L(t,e){return"in"==e?h(b):h(M,N)}function N(t,e){return";"==t?h(H):"in"==e?h(b):h(b,x(";"),H)}function H(t){")"!=t&&h(b)}function P(t,e){return"variable"==t?(d(e),h(P)):"("==t?h(v(")"),m,S(z,")"),g,y,p):void 0}function z(t,e){return"variable"==t?(d(e),h()):void 0}var I,W,j=t.indentUnit,B=e.json,D=function(){function t(t){return{type:t,style:"keyword"}}var e=t("keyword a"),n=t("keyword b"),r=t("keyword c"),o=t("operator"),i={type:"atom",style:"atom"};return{"if":e,"while":e,"with":e,"else":n,"do":n,"try":n,"finally":n,"return":r,"break":r,"continue":r,"new":r,"delete":r,"throw":r,"var":t("var"),"function":t("function"),"catch":t("catch"),"for":t("for"),"switch":t("switch"),"case":t("case"),"default":t("default"),"in":o,"typeof":o,"instanceof":o,"true":i,"false":i,"null":i,undefined:i,NaN:i,Infinity:i}}(),K=/[+\-*&%=<>!?|]/,V={atom:!0,number:!0,variable:!0,string:!0,regexp:!0},R={state:null,column:null,marked:null,cc:null},U={name:"this",next:{name:"arguments"}};return g.lex=!0,{startState:function(t){return{tokenize:i,reAllowed:!0,cc:[],lexical:new s((t||0)-j,0,"block",!1),localVars:null,context:null,indented:0}},token:function(t,e){if(t.sol()&&(e.lexical.hasOwnProperty("align")||(e.lexical.align=!1),e.indented=t.indentation()),t.eatSpace())return null;var n=e.tokenize(t,e);return"comment"==I?n:(e.reAllowed="operator"==I||"keyword c"==I||I.match(/^[\[{}\(,;:]$/),c(e,n,I,W,t))},indent:function(t,e){if(t.tokenize!=i)return 0;var n=e&&e.charAt(0),r=t.lexical,o=r.type,a=n==o;return"vardef"==o?r.indented+4:"form"==o&&"{"==n?r.indented:"stat"==o||"form"==o?r.indented+j:"switch"!=r.info||a?r.align?r.column+(a?0:1):r.indented+(a?0:j):r.indented+(/^(?:case|default)\b/.test(e)?j:2*j)},electricChars:":{}"}}),CodeMirror.defineMIME("text/javascript","javascript"),CodeMirror.defineMIME("application/json",{name:"javascript",json:!0}),CodeMirror.defineMode("e4x",function(t){function e(t,e){var i=r.token(t,e.jsState);return"<"==t.current()&&e.jsState.reAllowed?(e.token=n,e.localState=o.startState(r.indent(e.jsState,"")),e.mode="xml",e.indented=t.backUp(1),n(t,e)):i}function n(t,n){var r=n.localState,i=o.token(t,n.localState);return r.context||(n.token=e,n.curState=null,n.mode="javascript"),i}var r=CodeMirror.getMode(t,"javascript"),o=CodeMirror.getMode(t,{name:"xml",htmlMode:!0});return{startState:function(){var t=r.startState();return{token:e,localState:null,mode:"javascript",jsState:t}},copyState:function(t){if(t.localState)var e=CodeMirror.copyState(o,t.localState);return{token:t.token,localState:e,mode:t.mode,jsState:CodeMirror.copyState(r,t.jsState)}},token:function(t,e){return e.token(t,e)},indent:function(t,i){return t.token==n||/^\s*<[\/]/.test(i)?o.indent(t.xmlState,i):t.token==e?r.indent(t.localState,i):void 0},electricChars:"/{}:"}}),CodeMirror.defineMIME("text/e4x","e4x"),CodeMirror.overlayParser=function(t,e,n){return{startState:function(){return{base:CodeMirror.startState(t),overlay:CodeMirror.startState(e),basePos:0,baseCur:null,overlayPos:0,overlayCur:null}},copyState:function(n){return{base:CodeMirror.copyState(t,n.base),overlay:CodeMirror.copyState(e,n.overlay),basePos:n.basePos,baseCur:null,overlayPos:n.overlayPos,overlayCur:null}},token:function(r,o){return r.start==o.basePos&&(o.baseCur=t.token(r,o.base),o.basePos=r.pos),r.start==o.overlayPos&&(r.pos=r.start,o.overlayCur=e.token(r,o.overlay),o.overlayPos=r.pos),r.pos=Math.min(o.basePos,o.overlayPos),r.eol()&&(o.basePos=o.overlayPos=0),null==o.overlayCur?o.baseCur:null!=o.baseCur&&n?o.baseCur+" "+o.overlayCur:o.overlayCur},indent:function(e,n){return t.indent(e.base,n)},electricChars:t.electricChars}},CodeMirror.defineMode("xml",function(t,e){function n(t,e){function n(n){return e.tokenize=n,n(t,e)}var o=t.next();if("<"==o){if(t.eat("!"))return t.eat("[")?t.match("CDATA[")?n(i("atom","]]>")):null:t.match("--")?n(i("comment","-->")):t.match("DOCTYPE")?(t.eatWhile(/[\w\._\-]/),n(i("meta",">"))):null;if(t.eat("?"))return t.eatWhile(/[\w\._\-]/),e.tokenize=i("meta","?>"),"meta";v=t.eat("/")?"closeTag":"openTag",t.eatSpace(),p="";for(var a;a=t.eat(/[^\s\u00a0=<>\"\'\/?]/);)p+=a;return e.tokenize=r,"tag"}return"&"==o?(t.eatWhile(/[^;]/),t.eat(";"),"atom"):(t.eatWhile(/[^&<]/),null)}function r(t,e){var r=t.next();return">"==r||"/"==r&&t.eat(">")?(e.tokenize=n,v=">"==r?"endTag":"selfcloseTag","tag"):"="==r?(v="equals",null):/[\'\"]/.test(r)?(e.tokenize=o(r),e.tokenize(t,e)):(t.eatWhile(/[^\s\u00a0=<>\"\'\/?]/),"word")}function o(t){return function(e,n){for(;!e.eol();)if(e.next()==t){n.tokenize=r;break}return"string"}}function i(t,e){return function(r,o){for(;!r.eol();){if(r.match(e)){o.tokenize=n;break}r.next()}return t}}function a(){for(var t=arguments.length-1;t>=0;t--)g.cc.push(arguments[t])}function l(){return a.apply(null,arguments),!0}function s(t,e){var n=b.doNotIndent.hasOwnProperty(t)||g.context&&g.context.noIndent;g.context={prev:g.context,tagName:t,indent:g.indented,startOfLine:e,noIndent:n}}function u(){g.context&&(g.context=g.context.prev)}function c(t){return"openTag"==t?(g.tagName=p,l(d,f(g.startOfLine))):"closeTag"==t?(u(),l(h)):"string"==t?(g.context&&"!cdata"==g.context.name||s("!cdata"),g.tokenize==n&&u(),l()):l()}function f(t){return function(e){return"selfcloseTag"==e||"endTag"==e&&b.autoSelfClosers.hasOwnProperty(g.tagName.toLowerCase())?l():"endTag"==e?(s(g.tagName,t),l()):l()}}function h(t){return"endTag"==t?l():a()}function d(t){return"word"==t?(x="attribute",l(d)):"equals"==t?l(m,d):a()}function m(t){return"word"==t&&b.allowUnquoted?(x="string",l()):"string"==t?l():a()}var p,v,g,x,y=t.indentUnit,b=e.htmlMode?{autoSelfClosers:{br:!0,img:!0,hr:!0,link:!0,input:!0,meta:!0,col:!0,frame:!0,base:!0,area:!0},doNotIndent:{pre:!0,"!cdata":!0},allowUnquoted:!0}:{autoSelfClosers:{},doNotIndent:{"!cdata":!0},allowUnquoted:!1},M=e.alignCDATA;return{startState:function(){return{tokenize:n,cc:[],indented:0,startOfLine:!0,tagName:null,context:null}},token:function(t,e){if(t.sol()&&(e.startOfLine=!0,e.indented=t.indentation()),t.eatSpace())return null;x=v=p=null;var n=e.tokenize(t,e);if((n||v)&&"xml-comment"!=n)for(g=e;;){var r=e.cc.pop()||c;if(r(v||n))break}return e.startOfLine=!1,x||n},indent:function(t,e){var n=t.context;if(n&&n.noIndent)return 0;if(M&&/<!\[CDATA\[/.test(e))return 0;for(n&&/^<\//.test(e)&&(n=n.prev);n&&!n.startOfLine;)n=n.prev;return n?n.indent+y:0},electricChars:"/"}}),CodeMirror.defineMIME("application/xml","xml"),CodeMirror.defineMIME("text/html",{name:"xml",htmlMode:!0});
CodeMirror.overlayParser=function(r,e,o){return{startState:function(){return{base:CodeMirror.startState(r),overlay:CodeMirror.startState(e),basePos:0,baseCur:null,overlayPos:0,overlayCur:null}},copyState:function(o){return{base:CodeMirror.copyState(r,o.base),overlay:CodeMirror.copyState(e,o.overlay),basePos:o.basePos,baseCur:null,overlayPos:o.overlayPos,overlayCur:null}},token:function(a,s){return a.start==s.basePos&&(s.baseCur=r.token(a,s.base),s.basePos=a.pos),a.start==s.overlayPos&&(a.pos=a.start,s.overlayCur=e.token(a,s.overlay),s.overlayPos=a.pos),a.pos=Math.min(s.basePos,s.overlayPos),a.eol()&&(s.basePos=s.overlayPos=0),null==s.overlayCur?s.baseCur:null!=s.baseCur&&o?s.baseCur+" "+s.overlayCur:s.overlayCur},indent:function(e,o){return r.indent(e.base,o)},electricChars:r.electricChars}};
CodeMirror.defineMode("xml",function(t,e){function n(t,e){function n(n){return e.tokenize=n,n(t,e)}var a=t.next();if("<"==a){if(t.eat("!"))return t.eat("[")?t.match("CDATA[")?n(o("atom","]]>")):null:t.match("--")?n(o("comment","-->")):t.match("DOCTYPE")?(t.eatWhile(/[\w\._\-]/),n(o("meta",">"))):null;if(t.eat("?"))return t.eatWhile(/[\w\._\-]/),e.tokenize=o("meta","?>"),"meta";p=t.eat("/")?"closeTag":"openTag",t.eatSpace(),x="";for(var i;i=t.eat(/[^\s\u00a0=<>\"\'\/?]/);)x+=i;return e.tokenize=r,"tag"}return"&"==a?(t.eatWhile(/[^;]/),t.eat(";"),"atom"):(t.eatWhile(/[^&<]/),null)}function r(t,e){var r=t.next();return">"==r||"/"==r&&t.eat(">")?(e.tokenize=n,p=">"==r?"endTag":"selfcloseTag","tag"):"="==r?(p="equals",null):/[\'\"]/.test(r)?(e.tokenize=a(r),e.tokenize(t,e)):(t.eatWhile(/[^\s\u00a0=<>\"\'\/?]/),"word")}function a(t){return function(e,n){for(;!e.eol();)if(e.next()==t){n.tokenize=r;break}return"string"}}function o(t,e){return function(r,a){for(;!r.eol();){if(r.match(e)){a.tokenize=n;break}r.next()}return t}}function i(){for(var t=arguments.length-1;t>=0;t--)h.cc.push(arguments[t])}function u(){return i.apply(null,arguments),!0}function l(t,e){var n=v.doNotIndent.hasOwnProperty(t)||h.context&&h.context.noIndent;h.context={prev:h.context,tagName:t,indent:h.indented,startOfLine:e,noIndent:n}}function c(){h.context&&(h.context=h.context.prev)}function f(t){return"openTag"==t?(h.tagName=x,u(m,d(h.startOfLine))):"closeTag"==t?(c(),u(s)):"string"==t?(h.context&&"!cdata"==h.context.name||l("!cdata"),h.tokenize==n&&c(),u()):u()}function d(t){return function(e){return"selfcloseTag"==e||"endTag"==e&&v.autoSelfClosers.hasOwnProperty(h.tagName.toLowerCase())?u():"endTag"==e?(l(h.tagName,t),u()):u()}}function s(t){return"endTag"==t?u():i()}function m(t){return"word"==t?(k="attribute",u(m)):"equals"==t?u(g,m):i()}function g(t){return"word"==t&&v.allowUnquoted?(k="string",u()):"string"==t?u():i()}var x,p,h,k,T=t.indentUnit,v=e.htmlMode?{autoSelfClosers:{br:!0,img:!0,hr:!0,link:!0,input:!0,meta:!0,col:!0,frame:!0,base:!0,area:!0},doNotIndent:{pre:!0,"!cdata":!0},allowUnquoted:!0}:{autoSelfClosers:{},doNotIndent:{"!cdata":!0},allowUnquoted:!1},C=e.alignCDATA;return{startState:function(){return{tokenize:n,cc:[],indented:0,startOfLine:!0,tagName:null,context:null}},token:function(t,e){if(t.sol()&&(e.startOfLine=!0,e.indented=t.indentation()),t.eatSpace())return null;k=p=x=null;var n=e.tokenize(t,e);if((n||p)&&"xml-comment"!=n)for(h=e;;){var r=e.cc.pop()||f;if(r(p||n))break}return e.startOfLine=!1,k||n},indent:function(t,e){var n=t.context;if(n&&n.noIndent)return 0;if(C&&/<!\[CDATA\[/.test(e))return 0;for(n&&/^<\//.test(e)&&(n=n.prev);n&&!n.startOfLine;)n=n.prev;return n?n.indent+T:0},electricChars:"/"}}),CodeMirror.defineMIME("application/xml","xml"),CodeMirror.defineMIME("text/html",{name:"xml",htmlMode:!0});